 {
  "tray_export_version": 4,
  "export_type": "workflow",
  "workflows": [
    {
      "id": "0bf7b517-f38a-42c8-a1d9-6cda942b1b78",
      "created": "2023-03-30T16:53:49.464181Z",
      "workspace_id": "d3800da2-85c2-4b09-83cb-f805e217d38a",
      "creator": "5fded9ad-cf9a-43e3-9b08-28bde8b87d6e",
      "version": {
        "id": "8b367dfe-c899-4a10-96f8-cf3ce703830b",
        "created": "2023-11-19T22:00:48.824947Z"
      },
      "title": "On NS Subscription Plan Insert/Update, Update SF Product",
      "enabled": true,
      "tags": [],
      "settings": {
        "config": {},
        "alerting_workflow_id": "5b94881f-4352-4ac4-8ee9-ffe85036bfca",
        "input_schema": {
          "type": "object",
          "properties": {
            "subcriptionPlanId": {
              "type": "string",
              "title": "subcriptionPlanId",
              "description": "Subscription plan to process"
            }
          },
          "additionalProperties": false,
          "required": [],
          "advanced": []
        },
        "output_schema": {
          "type": "object",
          "properties": {
            "productId": {
              "type": "string",
              "title": "productId",
              "description": "Salesforce Product identifier"
            }
          },
          "additionalProperties": false,
          "required": [],
          "advanced": []
        }
      },
      "steps_structure": [
        {
          "name": "trigger",
          "type": "normal",
          "content": {}
        },
        {
          "name": "netsuite-1",
          "type": "normal",
          "content": {}
        },
        {
          "name": "netsuite-2",
          "type": "normal",
          "content": {}
        },
        {
          "name": "script-1",
          "type": "normal",
          "content": {}
        },
        {
          "name": "salesforce-14",
          "type": "normal",
          "content": {}
        },
        {
          "name": "boolean-condition-5",
          "type": "branch",
          "content": {
            "true": [],
            "false": [
              {
                "name": "callable-workflow-response-2",
                "type": "normal",
                "content": {}
              }
            ]
          }
        },
        {
          "name": "script-2",
          "type": "normal",
          "content": {}
        },
        {
          "name": "netsuite-5",
          "type": "normal",
          "content": {}
        },
        {
          "name": "boolean-condition-6",
          "type": "branch",
          "content": {
            "true": [
              {
                "name": "terminate-1",
                "type": "normal",
                "content": {}
              }
            ],
            "false": []
          }
        },
        {
          "name": "netsuite-6",
          "type": "normal",
          "content": {}
        },
        {
          "name": "data-mapper-1",
          "type": "normal",
          "content": {}
        },
        {
          "name": "script-4",
          "type": "normal",
          "content": {}
        },
        {
          "name": "salesforce-1",
          "type": "normal",
          "content": {}
        },
        {
          "name": "script-10",
          "type": "normal",
          "content": {}
        },
        {
          "name": "boolean-condition-4",
          "type": "branch",
          "content": {
            "true": [
              {
                "name": "salesforce-2",
                "type": "normal",
                "content": {}
              },
              {
                "name": "storage-10",
                "type": "normal",
                "content": {}
              }
            ],
            "false": [
              {
                "name": "salesforce-8",
                "type": "normal",
                "content": {}
              },
              {
                "name": "storage-11",
                "type": "normal",
                "content": {}
              }
            ]
          }
        },
        {
          "name": "storage-12",
          "type": "normal",
          "content": {}
        },
        {
          "name": "salesforce-10",
          "type": "normal",
          "content": {}
        },
        {
          "name": "loop-3",
          "type": "loop",
          "content": {
            "_loop": [
              {
                "name": "salesforce-11",
                "type": "normal",
                "content": {}
              }
            ]
          }
        },
        {
          "name": "netsuite-3",
          "type": "normal",
          "content": {}
        },
        {
          "name": "call-workflow-1",
          "type": "normal",
          "content": {}
        },
        {
          "name": "script-3",
          "type": "normal",
          "content": {}
        },
        {
          "name": "loop-4",
          "type": "loop",
          "content": {
            "_loop": [
              {
                "name": "boolean-condition-2",
                "type": "branch",
                "content": {
                  "true": [
                    {
                      "name": "script-9",
                      "type": "normal",
                      "content": {}
                    },
                    {
                      "name": "netsuite-7",
                      "type": "normal",
                      "content": {}
                    },
                    {
                      "name": "call-workflow-4",
                      "type": "normal",
                      "content": {}
                    },
                    {
                      "name": "salesforce-12",
                      "type": "normal",
                      "content": {}
                    },
                    {
                      "name": "script-5",
                      "type": "normal",
                      "content": {}
                    },
                    {
                      "name": "object-helpers-1",
                      "type": "normal",
                      "content": {}
                    },
                    {
                      "name": "script-8",
                      "type": "normal",
                      "content": {}
                    },
                    {
                      "name": "boolean-condition-7",
                      "type": "branch",
                      "content": {
                        "true": [
                          {
                            "name": "salesforce-13",
                            "type": "normal",
                            "content": {}
                          },
                          {
                            "name": "storage-3",
                            "type": "normal",
                            "content": {}
                          }
                        ],
                        "false": [
                          {
                            "name": "salesforce-15",
                            "type": "normal",
                            "content": {}
                          },
                          {
                            "name": "storage-4",
                            "type": "normal",
                            "content": {}
                          }
                        ]
                      }
                    },
                    {
                      "name": "storage-5",
                      "type": "normal",
                      "content": {}
                    },
                    {
                      "name": "call-workflow-8",
                      "type": "normal",
                      "content": {}
                    },
                    {
                      "name": "storage-6",
                      "type": "normal",
                      "content": {}
                    },
                    {
                      "name": "storage-7",
                      "type": "normal",
                      "content": {}
                    },
                    {
                      "name": "call-workflow-7",
                      "type": "normal",
                      "content": {}
                    }
                  ],
                  "false": []
                }
              }
            ]
          }
        },
        {
          "name": "loop-2",
          "type": "loop",
          "content": {
            "_loop": [
              {
                "name": "call-workflow-5",
                "type": "normal",
                "content": {}
              },
              {
                "name": "salesforce-3",
                "type": "normal",
                "content": {}
              },
              {
                "name": "boolean-condition-3",
                "type": "branch",
                "content": {
                  "true": [
                    {
                      "name": "salesforce-5",
                      "type": "normal",
                      "content": {}
                    },
                    {
                      "name": "storage-13",
                      "type": "normal",
                      "content": {}
                    },
                    {
                      "name": "storage-2",
                      "type": "normal",
                      "content": {}
                    }
                  ],
                  "false": [
                    {
                      "name": "salesforce-9",
                      "type": "normal",
                      "content": {}
                    },
                    {
                      "name": "storage-1",
                      "type": "normal",
                      "content": {}
                    }
                  ]
                }
              },
              {
                "name": "storage-8",
                "type": "normal",
                "content": {}
              },
              {
                "name": "storage-9",
                "type": "normal",
                "content": {}
              },
              {
                "name": "storage-14",
                "type": "normal",
                "content": {}
              },
              {
                "name": "script-6",
                "type": "normal",
                "content": {}
              },
              {
                "name": "boolean-condition-8",
                "type": "branch",
                "content": {
                  "true": [
                    {
                      "name": "call-workflow-3",
                      "type": "normal",
                      "content": {}
                    }
                  ],
                  "false": []
                }
              },
              {
                "name": "script-7",
                "type": "normal",
                "content": {}
              },
              {
                "name": "call-workflow-6",
                "type": "normal",
                "content": {}
              },
              {
                "name": "storage-15",
                "type": "normal",
                "content": {}
              }
            ]
          }
        },
        {
          "name": "boolean-condition-1",
          "type": "branch",
          "content": {
            "true": [],
            "false": [
              {
                "name": "call-workflow-10",
                "type": "normal",
                "content": {}
              }
            ]
          }
        },
        {
          "name": "callable-workflow-response-1",
          "type": "normal",
          "content": {}
        }
      ],
      "steps": {
        "storage-12": {
          "title": "Get Product Id",
          "description": "Get the previously store Id (inserted or existing product).",
          "connector": {
            "name": "storage",
            "version": "1.4"
          },
          "operation": "get",
          "output_schema": {
            "$schema": "http://json-schema.org/draft-04/schema#",
            "type": "object",
            "properties": {
              "value": {
                "type": "string"
              }
            }
          },
          "error_handling": {},
          "properties": {
            "scope": {
              "type": "string",
              "value": "Current Run"
            },
            "key": {
              "type": "string",
              "value": "product_id"
            },
            "default_value": {
              "type": "null",
              "value": null
            }
          }
        },
        "call-workflow-1": {
          "title": "Create Main Product Prices",
          "description": "Call the Prices for the main product",
          "connector": {
            "name": "call-workflow",
            "version": "2.0"
          },
          "operation": "fire_and_wait_for_response",
          "output_schema": {},
          "error_handling": {},
          "properties": {
            "workflow_id": {
              "type": "string",
              "value": "3209901b-cc87-4c18-b301-1f103b7a82a7"
            },
            "trigger_input": {
              "type": "object",
              "value": {
                "sf_product_id": {
                  "type": "jsonpath",
                  "value": "$.steps.storage-12.value"
                },
                "item_id": {
                  "type": "jsonpath",
                  "value": "$.steps.netsuite-1.items[0].id"
                },
                "ns_subscription_plan_id": {
                  "type": "jsonpath",
                  "value": "$.steps.netsuite-1.items[0].id"
                }
              }
            }
          }
        },
        "boolean-condition-1": {
          "title": "Always true",
          "description": "Original name: Maintenance Plan?\nThis was created initially because we had old configuration for some products, and for those products we didn't want to show the old configuration, but we can't apply this for all new products, so, skipping this hide sub-options configuration.",
          "connector": {
            "name": "boolean-condition",
            "version": "2.3"
          },
          "operation": "boolean_condition",
          "output_schema": {},
          "error_handling": {},
          "properties": {
            "conditions": {
              "type": "array",
              "value": [
                {
                  "type": "object",
                  "value": {
                    "value1": {
                      "type": "jsonpath",
                      "value": "$.steps.script-4.result.code"
                    },
                    "comparison_type": {
                      "type": "string",
                      "value": "contains"
                    },
                    "value2": {
                      "type": "string",
                      "value": "-MNT"
                    },
                    "is_case_sensitive": {
                      "value": false,
                      "type": "boolean"
                    }
                  }
                },
                {
                  "type": "object",
                  "value": {
                    "comparison_type": {
                      "type": "string",
                      "value": "==="
                    },
                    "is_case_sensitive": {
                      "type": "boolean",
                      "value": false
                    },
                    "value1": {
                      "type": "string",
                      "value": "1"
                    },
                    "value2": {
                      "type": "string",
                      "value": "1"
                    }
                  }
                }
              ]
            },
            "strictness": {
              "type": "string",
              "value": "Any"
            }
          }
        },
        "salesforce-5": {
          "title": "Create Product",
          "description": "Insert the Add-on record",
          "connector": {
            "name": "salesforce",
            "version": "8.7"
          },
          "operation": "create_record",
          "output_schema": {
            "$schema": "http://json-schema.org/draft-04/schema#",
            "type": "object",
            "properties": {
              "id": {
                "type": "string"
              },
              "success": {
                "type": "boolean"
              },
              "errors": {
                "type": "array",
                "items": {}
              }
            }
          },
          "error_handling": {},
          "authentication": {
            "group": "2c440ec0-5ac6-4a09-aef3-d861faa8c602",
            "title": "SF-Prod",
            "service_icon": {
              "icon_type": "url",
              "value": "//s3.amazonaws.com/images.tray.io/static/service/icons/a8ff6c9514c35c853b350382534fb624.png"
            },
            "scopes": [
              "refresh_token",
              "full"
            ],
            "service_name": "salesforce",
            "service_version": 1
          },
          "properties": {
            "fields": {
              "type": "array",
              "value": [
                {
                  "type": "object",
                  "value": {
                    "key": {
                      "type": "string",
                      "value": "IsActive"
                    },
                    "value": {
                      "type": "string",
                      "value": "true"
                    }
                  }
                },
                {
                  "type": "object",
                  "value": {
                    "key": {
                      "value": "Name",
                      "type": "string"
                    },
                    "value": {
                      "type": "jsonpath",
                      "value": "$.steps.call-workflow-5.response.item.displayName",
                      "fallback": {
                        "type": "jsonpath",
                        "value": "$.steps.call-workflow-5.response.item.itemId"
                      }
                    }
                  }
                },
                {
                  "type": "object",
                  "value": {
                    "key": {
                      "value": "ProductCode",
                      "type": "string"
                    },
                    "value": {
                      "type": "jsonpath",
                      "value": "$.steps.call-workflow-5.response.item.itemId"
                    }
                  }
                },
                {
                  "type": "object",
                  "value": {
                    "key": {
                      "type": "string",
                      "value": "Family"
                    },
                    "value": {
                      "type": "jsonpath",
                      "value": "$.steps.script-1.result"
                    }
                  }
                },
                {
                  "type": "object",
                  "value": {
                    "key": {
                      "type": "string",
                      "value": "Product__c"
                    },
                    "value": {
                      "type": "jsonpath",
                      "value": "$.steps.call-workflow-5.response.item.displayName",
                      "fallback": {
                        "type": "jsonpath",
                        "value": "$.steps.call-workflow-5.response.item.itemId"
                      }
                    }
                  }
                },
                {
                  "type": "object",
                  "value": {
                    "key": {
                      "type": "string",
                      "value": "Min_Quantity__c"
                    },
                    "value": {
                      "type": "number",
                      "value": 1
                    }
                  }
                },
                {
                  "type": "object",
                  "value": {
                    "key": {
                      "type": "string",
                      "value": "StockKeepingUnit"
                    },
                    "value": {
                      "type": "jsonpath",
                      "value": "$.steps.call-workflow-5.response.item.itemId"
                    }
                  }
                },
                {
                  "type": "object",
                  "value": {
                    "key": {
                      "type": "string",
                      "value": "Product_Edition__c"
                    },
                    "value": {
                      "type": "jsonpath",
                      "value": "$.steps.call-workflow-5.response.fields.productEdition",
                      "fallback": {
                        "type": "null",
                        "value": null
                      }
                    }
                  }
                },
                {
                  "type": "object",
                  "value": {
                    "key": {
                      "type": "string",
                      "value": "Description"
                    },
                    "value": {
                      "type": "jsonpath",
                      "value": "$.steps.call-workflow-5.response.item.displayName",
                      "fallback": {
                        "type": "jsonpath",
                        "value": "$.steps.call-workflow-5.response.item.itemId"
                      }
                    }
                  }
                },
                {
                  "type": "object",
                  "value": {
                    "key": {
                      "type": "string",
                      "value": "Subscription_Terms__c"
                    },
                    "value": {
                      "type": "string",
                      "value": "12;36;60"
                    }
                  }
                },
                {
                  "type": "object",
                  "value": {
                    "key": {
                      "type": "string",
                      "value": "SBQQ__SubscriptionPricing__c"
                    },
                    "value": {
                      "type": "string",
                      "value": "Fixed Price"
                    }
                  }
                },
                {
                  "type": "object",
                  "value": {
                    "key": {
                      "type": "string",
                      "value": "SBQQ__SubscriptionTerm__c"
                    },
                    "value": {
                      "type": "string",
                      "value": "12"
                    }
                  }
                },
                {
                  "type": "object",
                  "value": {
                    "key": {
                      "type": "string",
                      "value": "SBQQ__BillingType__c"
                    },
                    "value": {
                      "type": "jsonpath",
                      "value": "$.steps.call-workflow-5.response.fields.billingType"
                    }
                  }
                },
                {
                  "type": "object",
                  "value": {
                    "key": {
                      "type": "string",
                      "value": "NetSuite_ID__c"
                    },
                    "value": {
                      "type": "jsonpath",
                      "value": "$.steps.loop-2.value.item.id"
                    }
                  }
                },
                {
                  "type": "object",
                  "value": {
                    "key": {
                      "type": "string",
                      "value": "Deployment_Type__c"
                    },
                    "value": {
                      "type": "jsonpath",
                      "value": "$.steps.call-workflow-5.response.fields.deploymentType",
                      "fallback": {
                        "type": "null",
                        "value": null
                      }
                    }
                  }
                },
                {
                  "type": "object",
                  "value": {
                    "key": {
                      "type": "string",
                      "value": "Success_Level__c"
                    },
                    "value": {
                      "type": "jsonpath",
                      "value": "$.steps.call-workflow-5.response.fields.successLevel",
                      "fallback": {
                        "type": "null",
                        "value": null
                      }
                    }
                  }
                },
                {
                  "type": "object",
                  "value": {
                    "key": {
                      "type": "string",
                      "value": "SBQQ__Component__c"
                    },
                    "value": {
                      "type": "boolean",
                      "value": true
                    }
                  }
                },
                {
                  "type": "object",
                  "value": {
                    "key": {
                      "type": "string",
                      "value": "SBQQ__QuantityScale__c"
                    },
                    "value": {
                      "type": "number",
                      "value": 0
                    }
                  }
                },
                {
                  "type": "object",
                  "value": {
                    "key": {
                      "type": "string",
                      "value": "SBQQ__PriceEditable__c"
                    },
                    "value": {
                      "type": "boolean",
                      "value": false
                    }
                  }
                },
                {
                  "type": "object",
                  "value": {
                    "key": {
                      "type": "string",
                      "value": "SBQQ__SubscriptionType__c"
                    },
                    "value": {
                      "type": "jsonpath",
                      "value": "$.steps.call-workflow-5.response.fields.subscriptionType"
                    }
                  }
                },
                {
                  "type": "object",
                  "value": {
                    "key": {
                      "type": "string",
                      "value": "SBQQ__ChargeType__c"
                    },
                    "value": {
                      "type": "jsonpath",
                      "value": "$.steps.call-workflow-5.response.fields.chargeType"
                    }
                  }
                },
                {
                  "type": "object",
                  "value": {
                    "key": {
                      "type": "string",
                      "value": "SBQQ__BillingFrequency__c"
                    },
                    "value": {
                      "type": "jsonpath",
                      "value": "$.steps.call-workflow-5.response.fields.billingFrequency"
                    }
                  }
                }
              ]
            },
            "object": {
              "type": "string",
              "value": "Product2"
            }
          }
        },
        "salesforce-1": {
          "title": "Get Product if Exist",
          "description": "Check if we have the product already",
          "connector": {
            "name": "salesforce",
            "version": "8.7"
          },
          "operation": "find_records",
          "output_schema": {
            "$schema": "http://json-schema.org/draft-04/schema#",
            "type": "object",
            "properties": {
              "total": {
                "type": "integer",
                "title": "Total count"
              },
              "next_page_offset": {
                "type": "string",
                "title": "Next page offset"
              },
              "records": {
                "title": "Products",
                "type": "array",
                "items": {
                  "type": "object",
                  "title": "Product",
                  "properties": {
                    "Id": {
                      "name": "Id",
                      "type": "string",
                      "title": "Product ID"
                    },
                    "Name": {
                      "name": "Name",
                      "type": "string",
                      "title": "Product Name"
                    },
                    "LastModifiedDate": {
                      "name": "LastModifiedDate",
                      "type": "string",
                      "title": "Last Modified Date"
                    }
                  }
                }
              }
            }
          },
          "error_handling": {},
          "authentication": {
            "group": "2c440ec0-5ac6-4a09-aef3-d861faa8c602",
            "title": "SF-Prod",
            "service_icon": {
              "icon_type": "url",
              "value": "//s3.amazonaws.com/images.tray.io/static/service/icons/a8ff6c9514c35c853b350382534fb624.png"
            },
            "scopes": [
              "refresh_token",
              "full"
            ],
            "service_name": "salesforce",
            "service_version": 1
          },
          "properties": {
            "conditions_type": {
              "type": "string",
              "value": "Match all conditions"
            },
            "include_all_fields": {
              "type": "boolean",
              "value": false
            },
            "fields": {
              "type": "array",
              "value": [
                {
                  "type": "string",
                  "value": "Id"
                },
                {
                  "type": "string",
                  "value": "Name"
                },
                {
                  "type": "string",
                  "value": "LastModifiedDate"
                }
              ]
            },
            "object": {
              "type": "string",
              "value": "Product2"
            },
            "conditions": {
              "type": "array",
              "value": [
                {
                  "type": "object",
                  "value": {
                    "field": {
                      "type": "string",
                      "value": "StockKeepingUnit"
                    },
                    "operator": {
                      "type": "string",
                      "value": "Equal to"
                    },
                    "value": {
                      "type": "jsonpath",
                      "value": "$.steps.script-4.result.sku"
                    }
                  }
                }
              ]
            }
          }
        },
        "loop-2": {
          "title": "Create Add-ons",
          "description": "Loopthrough all the items to create new add-ons",
          "connector": {
            "name": "loop",
            "version": "1.1"
          },
          "operation": "loop_array",
          "output_schema": {
            "$schema": "http://json-schema.org/draft-04/schema#",
            "type": "object",
            "properties": {
              "value": {},
              "count": {
                "type": "number"
              },
              "index": {
                "type": "number"
              },
              "is_first": {
                "type": "boolean"
              },
              "is_last": {
                "type": "boolean"
              },
              "branch_name": {
                "type": "string"
              }
            }
          },
          "error_handling": {},
          "properties": {
            "array": {
              "type": "jsonpath",
              "value": "$.steps.netsuite-2.member.items"
            }
          }
        },
        "salesforce-3": {
          "title": "Find add-On",
          "description": "Search an Existing Add-on by the SKU.",
          "connector": {
            "name": "salesforce",
            "version": "8.7"
          },
          "operation": "find_records",
          "output_schema": {
            "$schema": "http://json-schema.org/draft-04/schema#",
            "type": "object",
            "properties": {
              "total": {
                "type": "integer",
                "title": "Total count"
              },
              "next_page_offset": {
                "type": "string",
                "title": "Next page offset"
              },
              "records": {
                "title": "Products",
                "type": "array",
                "items": {
                  "type": "object",
                  "title": "Product",
                  "properties": {
                    "StockKeepingUnit": {
                      "name": "StockKeepingUnit",
                      "type": "string",
                      "title": "Product SKU"
                    },
                    "Id": {
                      "name": "Id",
                      "type": "string",
                      "title": "Product ID"
                    }
                  }
                }
              }
            }
          },
          "error_handling": {},
          "authentication": {
            "group": "2c440ec0-5ac6-4a09-aef3-d861faa8c602",
            "title": "SF-Prod",
            "service_icon": {
              "icon_type": "url",
              "value": "//s3.amazonaws.com/images.tray.io/static/service/icons/a8ff6c9514c35c853b350382534fb624.png"
            },
            "scopes": [
              "refresh_token",
              "full"
            ],
            "service_name": "salesforce",
            "service_version": 1
          },
          "properties": {
            "conditions_type": {
              "type": "string",
              "value": "Match all conditions"
            },
            "include_all_fields": {
              "type": "boolean",
              "value": false
            },
            "fields": {
              "type": "array",
              "value": [
                {
                  "type": "string",
                  "value": "StockKeepingUnit"
                },
                {
                  "type": "string",
                  "value": "Id"
                }
              ]
            },
            "object": {
              "value": "Product2",
              "type": "string"
            },
            "conditions": {
              "type": "array",
              "value": [
                {
                  "type": "object",
                  "value": {
                    "field": {
                      "type": "string",
                      "value": "ProductCode"
                    },
                    "operator": {
                      "type": "string",
                      "value": "Equal to"
                    },
                    "value": {
                      "type": "jsonpath",
                      "value": "$.steps.call-workflow-5.response.item.itemId"
                    }
                  }
                }
              ]
            }
          }
        },
        "data-mapper-1": {
          "title": "Map Edition Label",
          "connector": {
            "name": "data-mapper",
            "version": "3.5"
          },
          "operation": "map_one_value",
          "output_schema": {
            "$schema": "http://json-schema.org/draft-04/schema#",
            "type": "object",
            "properties": {
              "result": {
                "type": "string"
              }
            }
          },
          "error_handling": {},
          "properties": {
            "mappings": {
              "type": "array",
              "value": [
                {
                  "type": "object",
                  "value": {
                    "from": {
                      "type": "string",
                      "value": "Standard"
                    },
                    "to": {
                      "type": "jsonpath",
                      "value": "$.steps.netsuite-6.custrecordtierlabelstandard",
                      "fallback": {
                        "value": null,
                        "type": "null"
                      }
                    }
                  }
                },
                {
                  "type": "object",
                  "value": {
                    "from": {
                      "type": "string",
                      "value": "Professional"
                    },
                    "to": {
                      "type": "jsonpath",
                      "value": "$.steps.netsuite-6.custrecordtierlabelprofessional",
                      "fallback": {
                        "value": null,
                        "type": "null"
                      }
                    }
                  }
                },
                {
                  "type": "object",
                  "value": {
                    "from": {
                      "type": "string",
                      "value": "Enterprise"
                    },
                    "to": {
                      "type": "jsonpath",
                      "value": "$.steps.netsuite-6.custrecordtierlabelenterprise",
                      "fallback": {
                        "type": "null",
                        "value": null
                      }
                    }
                  }
                }
              ]
            },
            "value": {
              "type": "jsonpath",
              "value": "$.steps.script-2.result.productEdition",
              "fallback": {
                "value": null,
                "type": "null"
              }
            },
            "default_value": {
              "type": "string",
              "value": "Standard"
            }
          }
        },
        "script-6": {
          "title": "Update Pricing?",
          "description": "The price will be updated if there is not an item inside a subbundle (parent override) or for maintenance items. Also returns true if a new product is created as we need to create the price books in salesforce or the item is not added by CPQ to the quote.",
          "connector": {
            "name": "script",
            "version": "3.3"
          },
          "operation": "execute",
          "output_schema": {},
          "error_handling": {},
          "properties": {
            "variables": {
              "type": "array",
              "value": [
                {
                  "type": "object",
                  "value": {
                    "name": {
                      "type": "string",
                      "value": "parentOverride"
                    },
                    "value": {
                      "type": "jsonpath",
                      "value": "$.steps.storage-8.value"
                    }
                  }
                },
                {
                  "type": "object",
                  "value": {
                    "name": {
                      "type": "string",
                      "value": "productCode"
                    },
                    "value": {
                      "type": "jsonpath",
                      "value": "$.steps.script-4.result.code"
                    }
                  }
                },
                {
                  "type": "object",
                  "value": {
                    "name": {
                      "type": "string",
                      "value": "productCreated"
                    },
                    "value": {
                      "type": "jsonpath",
                      "value": "$.steps.storage-14.value"
                    }
                  }
                }
              ]
            },
            "script": {
              "type": "string",
              "value": "// True, if the price should be updated\nexports.step = function(input) {\n\treturn ({\n    updatePrice: input.productCode.includes('-MNT') || !input.parentOverride || input.productCreated,\n    });\n};"
            },
            "file_output": {
              "type": "boolean",
              "value": false
            }
          }
        },
        "script-1": {
          "title": "Extract Family from Class",
          "description": "Parse the plan class to get the product family",
          "connector": {
            "name": "script",
            "version": "3.0"
          },
          "operation": "execute",
          "output_schema": {
            "$schema": "http://json-schema.org/draft-04/schema#",
            "type": "object",
            "properties": {
              "result": {
                "type": "string"
              },
              "console": {
                "type": "array",
                "items": {}
              }
            }
          },
          "error_handling": {},
          "properties": {
            "variables": {
              "type": "array",
              "value": [
                {
                  "type": "object",
                  "value": {
                    "name": {
                      "type": "string",
                      "value": "class"
                    },
                    "value": {
                      "type": "jsonpath",
                      "value": "$.steps.netsuite-2.class.refName"
                    }
                  }
                }
              ]
            },
            "script": {
              "type": "string",
              "value": "exports.step = function(input, fileInput) {\n  let class_parts = input.class.split(':').reverse();\n\tlet product_name = class_parts[0].trim().replace(/\\s(Product|Consulting)$/, '');\n\treturn product_name;\n};"
            },
            "file_output": {
              "type": "boolean",
              "value": false
            }
          }
        },
        "call-workflow-7": {
          "title": "Add Option",
          "connector": {
            "name": "call-workflow",
            "version": "2.0"
          },
          "operation": "fire_and_wait_for_response",
          "output_schema": {},
          "error_handling": {},
          "properties": {
            "workflow_id": {
              "type": "string",
              "value": "5f5d1574-58e0-4451-8c93-dce41bad2a79"
            },
            "trigger_input": {
              "type": "object",
              "value": {
                "isRequired": {
                  "type": "jsonpath",
                  "value": "$.steps.call-workflow-4.response.fields.isRequired",
                  "fallback": {
                    "type": "null",
                    "value": null
                  }
                },
                "configuredSku": {
                  "type": "jsonpath",
                  "value": "$.steps.storage-12.value",
                  "fallback": {
                    "type": "string"
                  }
                },
                "optionalSku": {
                  "type": "jsonpath",
                  "value": "$.steps.storage-5.value",
                  "fallback": {
                    "value": "$.steps.salesforce-3.records[0].Id",
                    "type": "jsonpath"
                  }
                },
                "number": {
                  "type": "jsonpath",
                  "value": "$.steps.loop-4.value[0].lineNumber"
                },
                "subbundle": {
                  "value": true,
                  "type": "boolean"
                },
                "mntPlan": {
                  "type": "jsonpath",
                  "value": "$.steps.script-4.result.mntPlan"
                },
                "leafProduct": {
                  "value": false,
                  "type": "boolean"
                },
                "chargeType": {
                  "type": "jsonpath",
                  "value": "$.steps.call-workflow-4.response.fields.chargeType",
                  "fallback": {
                    "value": "",
                    "type": "string"
                  }
                },
                "isSubbundleItem": {
                  "value": false,
                  "type": "boolean"
                }
              }
            }
          }
        },
        "loop-3": {
          "title": "Loop Collection",
          "connector": {
            "name": "loop",
            "version": "1.3"
          },
          "operation": "loop_array",
          "output_schema": {
            "type": "object",
            "$schema": "http://json-schema.org/draft-03/schema",
            "id": "http://jsonschema.net",
            "additionalProperties": false,
            "properties": {
              "value": {
                "type": "object",
                "title": "Product",
                "properties": {
                  "NetSuite_ID__c": {
                    "name": "NetSuite_ID__c",
                    "type": "string",
                    "title": "NetSuite ID"
                  },
                  "Id": {
                    "name": "Id",
                    "type": "string",
                    "title": "Product ID"
                  }
                }
              },
              "count": {
                "type": "number",
                "id": "http://jsonschema.net/total"
              },
              "index": {
                "type": "number",
                "id": "http://jsonschema.net/index"
              },
              "is_first": {
                "type": "boolean",
                "id": "http://jsonschema.net/is_first"
              },
              "is_last": {
                "type": "boolean",
                "id": "http://jsonschema.net/is_last"
              }
            }
          },
          "error_handling": {},
          "properties": {
            "array": {
              "type": "jsonpath",
              "value": "$.steps.salesforce-10.records"
            }
          }
        },
        "storage-2": {
          "title": "Save Item Id",
          "connector": {
            "name": "storage",
            "version": "1.4"
          },
          "operation": "set",
          "output_schema": {},
          "error_handling": {},
          "properties": {
            "scope": {
              "type": "string",
              "value": "Current Run"
            },
            "key": {
              "type": "string",
              "value": "Item_{$.steps.loop-2.value.item.id}"
            },
            "value": {
              "type": "jsonpath",
              "value": "$.steps.salesforce-5.id"
            }
          }
        },
        "call-workflow-3": {
          "title": "Create Add-on Prices",
          "description": "Call the Prices for the main product",
          "connector": {
            "name": "call-workflow",
            "version": "2.0"
          },
          "operation": "fire_and_wait_for_response",
          "output_schema": {},
          "error_handling": {},
          "properties": {
            "workflow_id": {
              "type": "string",
              "value": "3209901b-cc87-4c18-b301-1f103b7a82a7"
            },
            "trigger_input": {
              "type": "object",
              "value": {
                "ns_subscription_plan_id": {
                  "type": "jsonpath",
                  "value": "$.steps.netsuite-1.items[0].id"
                },
                "sf_product_id": {
                  "type": "jsonpath",
                  "value": "$.steps.storage-9.value"
                },
                "item_id": {
                  "type": "jsonpath",
                  "value": "$.steps.loop-2.value.item.id"
                },
                "zeroOutPrices": {
                  "type": "boolean",
                  "value": false
                }
              }
            }
          }
        },
        "salesforce-9": {
          "title": "Update Product",
          "description": "Insert the Add-on record",
          "connector": {
            "name": "salesforce",
            "version": "8.7"
          },
          "operation": "update_record",
          "output_schema": {},
          "error_handling": {},
          "authentication": {
            "group": "2c440ec0-5ac6-4a09-aef3-d861faa8c602",
            "title": "SF-Prod",
            "service_icon": {
              "icon_type": "url",
              "value": "//s3.amazonaws.com/images.tray.io/static/service/icons/a8ff6c9514c35c853b350382534fb624.png"
            },
            "scopes": [
              "refresh_token",
              "full"
            ],
            "service_name": "salesforce",
            "service_version": 1
          },
          "properties": {
            "fields": {
              "type": "array",
              "value": [
                {
                  "type": "object",
                  "value": {
                    "key": {
                      "type": "string",
                      "value": "IsActive"
                    },
                    "value": {
                      "type": "string",
                      "value": "true"
                    }
                  }
                },
                {
                  "type": "object",
                  "value": {
                    "key": {
                      "value": "Name",
                      "type": "string"
                    },
                    "value": {
                      "type": "jsonpath",
                      "value": "$.steps.call-workflow-5.response.item.displayName",
                      "fallback": {
                        "type": "jsonpath",
                        "value": "$.steps.call-workflow-5.response.item.itemId"
                      }
                    }
                  }
                },
                {
                  "type": "object",
                  "value": {
                    "key": {
                      "value": "ProductCode",
                      "type": "string"
                    },
                    "value": {
                      "type": "jsonpath",
                      "value": "$.steps.call-workflow-5.response.item.itemId"
                    }
                  }
                },
                {
                  "type": "object",
                  "value": {
                    "key": {
                      "type": "string",
                      "value": "Family"
                    },
                    "value": {
                      "type": "jsonpath",
                      "value": "$.steps.script-1.result"
                    }
                  }
                },
                {
                  "type": "object",
                  "value": {
                    "key": {
                      "type": "string",
                      "value": "StockKeepingUnit"
                    },
                    "value": {
                      "type": "jsonpath",
                      "value": "$.steps.call-workflow-5.response.item.itemId"
                    }
                  }
                },
                {
                  "type": "object",
                  "value": {
                    "key": {
                      "type": "string",
                      "value": "Product_Edition__c"
                    },
                    "value": {
                      "type": "jsonpath",
                      "value": "$.steps.call-workflow-5.response.fields.productEdition",
                      "fallback": {
                        "type": "null",
                        "value": null
                      }
                    }
                  }
                },
                {
                  "type": "object",
                  "value": {
                    "key": {
                      "type": "string",
                      "value": "Description"
                    },
                    "value": {
                      "type": "jsonpath",
                      "value": "$.steps.call-workflow-5.response.item.displayName",
                      "fallback": {
                        "type": "jsonpath",
                        "value": "$.steps.call-workflow-5.response.item.itemId"
                      }
                    }
                  }
                },
                {
                  "type": "object",
                  "value": {
                    "key": {
                      "type": "string",
                      "value": "SBQQ__SubscriptionPricing__c"
                    },
                    "value": {
                      "type": "string",
                      "value": "Fixed Price"
                    }
                  }
                },
                {
                  "type": "object",
                  "value": {
                    "key": {
                      "type": "string",
                      "value": "SBQQ__SubscriptionTerm__c"
                    },
                    "value": {
                      "type": "string",
                      "value": "12"
                    }
                  }
                },
                {
                  "type": "object",
                  "value": {
                    "key": {
                      "type": "string",
                      "value": "SBQQ__SubscriptionType__c"
                    },
                    "value": {
                      "type": "jsonpath",
                      "value": "$.steps.call-workflow-5.response.fields.subscriptionType"
                    }
                  }
                },
                {
                  "type": "object",
                  "value": {
                    "key": {
                      "type": "string",
                      "value": "SBQQ__BillingType__c"
                    },
                    "value": {
                      "type": "jsonpath",
                      "value": "$.steps.call-workflow-5.response.fields.billingType"
                    }
                  }
                },
                {
                  "type": "object",
                  "value": {
                    "key": {
                      "type": "string",
                      "value": "NetSuite_ID__c"
                    },
                    "value": {
                      "type": "jsonpath",
                      "value": "$.steps.loop-2.value.item.id"
                    }
                  }
                },
                {
                  "type": "object",
                  "value": {
                    "key": {
                      "type": "string",
                      "value": "Deployment_Type__c"
                    },
                    "value": {
                      "type": "jsonpath",
                      "value": "$.steps.call-workflow-5.response.fields.deploymentType",
                      "fallback": {
                        "type": "string"
                      }
                    }
                  }
                },
                {
                  "type": "object",
                  "value": {
                    "key": {
                      "type": "string",
                      "value": "Success_Level__c"
                    },
                    "value": {
                      "type": "jsonpath",
                      "value": "$.steps.call-workflow-5.response.fields.successLevel",
                      "fallback": {
                        "type": "null",
                        "value": null
                      }
                    }
                  }
                },
                {
                  "type": "object",
                  "value": {
                    "key": {
                      "type": "string",
                      "value": "SBQQ__Component__c"
                    },
                    "value": {
                      "type": "boolean",
                      "value": true
                    }
                  }
                },
                {
                  "type": "object",
                  "value": {
                    "key": {
                      "type": "string",
                      "value": "SBQQ__QuantityScale__c"
                    },
                    "value": {
                      "type": "number",
                      "value": 0
                    }
                  }
                },
                {
                  "type": "object",
                  "value": {
                    "key": {
                      "type": "string",
                      "value": "SBQQ__PriceEditable__c"
                    },
                    "value": {
                      "type": "boolean",
                      "value": false
                    }
                  }
                },
                {
                  "type": "object",
                  "value": {
                    "key": {
                      "type": "string",
                      "value": "SBQQ__ChargeType__c"
                    },
                    "value": {
                      "type": "jsonpath",
                      "value": "$.steps.call-workflow-5.response.fields.chargeType"
                    }
                  }
                },
                {
                  "type": "object",
                  "value": {
                    "key": {
                      "type": "string",
                      "value": "SBQQ__BillingFrequency__c"
                    },
                    "value": {
                      "type": "jsonpath",
                      "value": "$.steps.call-workflow-5.response.fields.billingFrequency"
                    }
                  }
                }
              ]
            },
            "object": {
              "type": "string",
              "value": "Product2"
            },
            "object_id": {
              "type": "jsonpath",
              "value": "$.steps.salesforce-3.records[0].Id"
            }
          }
        },
        "netsuite-2": {
          "title": "Get subscription plan details",
          "description": "Load plan by Id",
          "connector": {
            "name": "netsuite",
            "version": "2.8"
          },
          "operation": "get_record",
          "output_schema": {},
          "error_handling": {},
          "authentication": {
            "group": "acf5ed7f-c1d0-49ae-a8d1-89dd2b001a92",
            "title": "NS Prod",
            "service_icon": {
              "icon_type": "url",
              "value": "//s3.amazonaws.com/images.tray.io/static/service/icons/eb27b52bd4378b8bc0288428d585968b.png"
            },
            "scopes": [],
            "service_name": "netsuite",
            "service_version": 4
          },
          "properties": {
            "account_id": {
              "type": "jsonpath",
              "value": "$.auth.account_id"
            },
            "consumer_key": {
              "type": "jsonpath",
              "value": "$.auth.consumer_key"
            },
            "consumer_secret": {
              "type": "jsonpath",
              "value": "$.auth.consumer_secret"
            },
            "token_id": {
              "type": "jsonpath",
              "value": "$.auth.token_id"
            },
            "token_secret": {
              "type": "jsonpath",
              "value": "$.auth.token_secret"
            },
            "record_type": {
              "type": "string",
              "value": "subscriptionplan"
            },
            "record_id": {
              "type": "jsonpath",
              "value": "$.steps.netsuite-1.items[0].id"
            },
            "expand_sub_resources": {
              "type": "boolean",
              "value": true
            }
          }
        },
        "salesforce-11": {
          "title": "Deactivate Product",
          "connector": {
            "name": "salesforce",
            "version": "8.7"
          },
          "operation": "update_record",
          "output_schema": {},
          "error_handling": {},
          "authentication": {
            "group": "2c440ec0-5ac6-4a09-aef3-d861faa8c602",
            "title": "SF-Prod",
            "service_icon": {
              "icon_type": "url",
              "value": "//s3.amazonaws.com/images.tray.io/static/service/icons/a8ff6c9514c35c853b350382534fb624.png"
            },
            "scopes": [
              "refresh_token",
              "full"
            ],
            "service_name": "salesforce",
            "service_version": 1
          },
          "properties": {
            "fields": {
              "type": "array",
              "value": [
                {
                  "type": "object",
                  "value": {
                    "key": {
                      "type": "string",
                      "value": "IsActive"
                    },
                    "value": {
                      "type": "boolean",
                      "value": false
                    }
                  }
                }
              ]
            },
            "object": {
              "type": "string",
              "value": "Product2"
            },
            "object_id": {
              "type": "jsonpath",
              "value": "$.steps.loop-3.value.Id"
            }
          }
        },
        "salesforce-14": {
          "title": "Get product configuration",
          "connector": {
            "name": "salesforce",
            "version": "8.6"
          },
          "operation": "find_records",
          "output_schema": {
            "$schema": "http://json-schema.org/draft-04/schema#",
            "type": "object",
            "properties": {
              "total": {
                "type": "integer",
                "title": "Total count"
              },
              "next_page_offset": {
                "type": "string",
                "title": "Next page offset"
              },
              "records": {
                "title": "Product Configurations",
                "type": "array",
                "items": {
                  "type": "object",
                  "title": "Product Configuration",
                  "properties": {
                    "Manual_Quote__c": {
                      "name": "Manual_Quote__c",
                      "type": "boolean",
                      "title": "Manual O2C"
                    },
                    "Processed_via_OTC__c": {
                      "name": "Processed_via_OTC__c",
                      "type": "boolean",
                      "title": "Processed via O2C"
                    }
                  }
                }
              }
            }
          },
          "error_handling": {},
          "authentication": {
            "group": "2c440ec0-5ac6-4a09-aef3-d861faa8c602",
            "title": "SF-Prod",
            "service_icon": {
              "icon_type": "url",
              "value": "//s3.amazonaws.com/images.tray.io/static/service/icons/a8ff6c9514c35c853b350382534fb624.png"
            },
            "scopes": [
              "refresh_token",
              "full"
            ],
            "service_name": "salesforce",
            "service_version": 1
          },
          "properties": {
            "fields": {
              "type": "array",
              "value": [
                {
                  "type": "string",
                  "value": "Manual_Quote__c"
                },
                {
                  "type": "string",
                  "value": "Processed_via_OTC__c"
                }
              ]
            },
            "conditions_type": {
              "type": "string",
              "value": "Match all conditions"
            },
            "include_all_fields": {
              "type": "boolean",
              "value": false
            },
            "object": {
              "type": "string",
              "value": "Product_Configuration__c"
            },
            "conditions": {
              "type": "array",
              "value": [
                {
                  "type": "object",
                  "value": {
                    "field": {
                      "type": "string",
                      "value": "Product__c"
                    },
                    "operator": {
                      "type": "string",
                      "value": "Equal to"
                    },
                    "value": {
                      "type": "jsonpath",
                      "value": "$.steps.script-1.result"
                    }
                  }
                }
              ]
            }
          }
        },
        "storage-5": {
          "title": "Get Product Id",
          "description": "Store the loaded product id",
          "connector": {
            "name": "storage",
            "version": "1.4"
          },
          "operation": "get",
          "output_schema": {},
          "error_handling": {},
          "properties": {
            "scope": {
              "type": "string",
              "value": "Current Run"
            },
            "key": {
              "type": "string",
              "value": "addon_product_id"
            },
            "default_value": {
              "type": "null",
              "value": null
            }
          }
        },
        "script-10": {
          "title": "Get Configuration Type",
          "connector": {
            "name": "script",
            "version": "3.3"
          },
          "operation": "execute",
          "output_schema": {},
          "error_handling": {},
          "properties": {
            "variables": {
              "type": "array",
              "value": [
                {
                  "type": "object",
                  "value": {
                    "name": {
                      "type": "string",
                      "value": "plan"
                    },
                    "value": {
                      "type": "jsonpath",
                      "value": "$.steps.netsuite-2"
                    }
                  }
                },
                {
                  "type": "object",
                  "value": {
                    "name": {
                      "type": "string",
                      "value": "mntPlan"
                    },
                    "value": {
                      "type": "jsonpath",
                      "value": "$.steps.script-4.result.mntPlan"
                    }
                  }
                }
              ]
            },
            "script": {
              "type": "string",
              "value": "// Returns true, if there are optional items\nexports.step = function(input) {\n  // at least 1 item is required for maintenance plans and 2 for regular plans\n  const requiredItems = input.mntPlan ? 1 : 2;\n\treturn input.plan.member.items.length > requiredItems && input.plan.member.items.some(item => item.isRequired === false)?'Required':'Disable';\n};"
            },
            "file_output": {
              "type": "boolean",
              "value": false
            }
          }
        },
        "boolean-condition-5": {
          "title": "Enabled for the Product?",
          "connector": {
            "name": "boolean-condition",
            "version": "2.3"
          },
          "operation": "boolean_condition",
          "output_schema": {},
          "error_handling": {},
          "properties": {
            "conditions": {
              "type": "array",
              "value": [
                {
                  "type": "object",
                  "value": {
                    "comparison_type": {
                      "type": "string",
                      "value": "==="
                    },
                    "is_case_sensitive": {
                      "type": "boolean",
                      "value": false
                    },
                    "value1": {
                      "type": "jsonpath",
                      "value": "$.steps.salesforce-14.records[0].Processed_via_OTC__c",
                      "fallback": {
                        "type": "null",
                        "value": null
                      }
                    },
                    "value2": {
                      "type": "boolean",
                      "value": true
                    }
                  }
                }
              ]
            },
            "strictness": {
              "type": "string",
              "value": "All"
            }
          }
        },
        "storage-9": {
          "title": "Get Item Id",
          "connector": {
            "name": "storage",
            "version": "1.4"
          },
          "operation": "get",
          "output_schema": {},
          "error_handling": {},
          "properties": {
            "scope": {
              "type": "string",
              "value": "Current Run"
            },
            "key": {
              "type": "string",
              "value": "Item_{$.steps.loop-2.value.item.id}"
            },
            "default_value": {
              "type": "null",
              "value": null
            }
          }
        },
        "boolean-condition-2": {
          "title": "Sub-Bundle?",
          "connector": {
            "name": "boolean-condition",
            "version": "2.3"
          },
          "operation": "boolean_condition",
          "output_schema": {},
          "error_handling": {},
          "properties": {
            "conditions": {
              "type": "array",
              "value": [
                {
                  "type": "object",
                  "value": {
                    "value1": {
                      "type": "jsonpath",
                      "value": "$.steps.loop-4.value[1]",
                      "fallback": {
                        "type": "null",
                        "value": null
                      }
                    },
                    "comparison_type": {
                      "type": "string",
                      "value": "!=="
                    },
                    "value2": {
                      "type": "null",
                      "value": null
                    }
                  }
                }
              ]
            },
            "strictness": {
              "type": "string",
              "value": "All"
            }
          }
        },
        "callable-workflow-response-1": {
          "title": "Callable response",
          "connector": {
            "name": "callable-workflow-response",
            "version": "1.0"
          },
          "operation": "response",
          "output_schema": {},
          "error_handling": {},
          "properties": {
            "response": {
              "value": {
                "productId": {
                  "type": "jsonpath",
                  "value": "$.steps.storage-12.value",
                  "fallback": {
                    "value": "",
                    "type": "string"
                  }
                }
              },
              "type": "object"
            }
          }
        },
        "script-3": {
          "title": "Group Add-Ons",
          "connector": {
            "name": "script",
            "version": "3.3"
          },
          "operation": "execute",
          "output_schema": {
            "$schema": "http://json-schema.org/draft-04/schema#",
            "type": "object",
            "properties": {
              "result": {
                "type": "object",
                "properties": {
                  "Nor-OP-Xin-STA": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "links": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "rel": {
                                "type": "string"
                              },
                              "href": {
                                "type": "string"
                              }
                            }
                          }
                        },
                        "billingMode": {
                          "type": "object",
                          "properties": {
                            "id": {
                              "type": "string"
                            },
                            "refName": {
                              "type": "string"
                            }
                          }
                        },
                        "isRequired": {
                          "type": "boolean"
                        },
                        "item": {
                          "type": "object",
                          "properties": {
                            "links": {
                              "type": "array",
                              "items": {
                                "type": "object",
                                "properties": {
                                  "rel": {
                                    "type": "string"
                                  },
                                  "href": {
                                    "type": "string"
                                  }
                                }
                              }
                            },
                            "id": {
                              "type": "string"
                            },
                            "refName": {
                              "type": "string"
                            }
                          }
                        },
                        "lineNumber": {
                          "type": "number"
                        },
                        "prorateEndDate": {
                          "type": "boolean"
                        },
                        "prorateStartDate": {
                          "type": "boolean"
                        },
                        "renewalOption": {
                          "type": "object",
                          "properties": {
                            "id": {
                              "type": "string"
                            },
                            "refName": {
                              "type": "string"
                            }
                          }
                        },
                        "revRecOption": {
                          "type": "object",
                          "properties": {
                            "id": {
                              "type": "string"
                            },
                            "refName": {
                              "type": "string"
                            }
                          }
                        },
                        "subscriptionLineType": {
                          "type": "object",
                          "properties": {
                            "id": {
                              "type": "string"
                            },
                            "refName": {
                              "type": "string"
                            }
                          }
                        }
                      }
                    }
                  },
                  "Nor-OP-Xin-SIL": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "links": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "rel": {
                                "type": "string"
                              },
                              "href": {
                                "type": "string"
                              }
                            }
                          }
                        },
                        "billingMode": {
                          "type": "object",
                          "properties": {
                            "id": {
                              "type": "string"
                            },
                            "refName": {
                              "type": "string"
                            }
                          }
                        },
                        "isRequired": {
                          "type": "boolean"
                        },
                        "item": {
                          "type": "object",
                          "properties": {
                            "links": {
                              "type": "array",
                              "items": {
                                "type": "object",
                                "properties": {
                                  "rel": {
                                    "type": "string"
                                  },
                                  "href": {
                                    "type": "string"
                                  }
                                }
                              }
                            },
                            "id": {
                              "type": "string"
                            },
                            "refName": {
                              "type": "string"
                            }
                          }
                        },
                        "lineNumber": {
                          "type": "number"
                        },
                        "prorateEndDate": {
                          "type": "boolean"
                        },
                        "prorateStartDate": {
                          "type": "boolean"
                        },
                        "renewalOption": {
                          "type": "object",
                          "properties": {
                            "id": {
                              "type": "string"
                            },
                            "refName": {
                              "type": "string"
                            }
                          }
                        },
                        "revRecOption": {
                          "type": "object",
                          "properties": {
                            "id": {
                              "type": "string"
                            },
                            "refName": {
                              "type": "string"
                            }
                          }
                        },
                        "subscriptionLineType": {
                          "type": "object",
                          "properties": {
                            "id": {
                              "type": "string"
                            },
                            "refName": {
                              "type": "string"
                            }
                          }
                        }
                      }
                    }
                  },
                  "Nor-TE-SDK-ADD-SIL": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "links": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "rel": {
                                "type": "string"
                              },
                              "href": {
                                "type": "string"
                              }
                            },
                            "required": [
                              "rel",
                              "href"
                            ]
                          }
                        },
                        "billingMode": {
                          "type": "object",
                          "properties": {
                            "id": {
                              "type": "string"
                            },
                            "refName": {
                              "type": "string"
                            }
                          }
                        },
                        "isRequired": {
                          "type": "boolean"
                        },
                        "item": {
                          "type": "object",
                          "properties": {
                            "links": {
                              "type": "array",
                              "items": {
                                "type": "object",
                                "properties": {
                                  "rel": {
                                    "type": "string"
                                  },
                                  "href": {
                                    "type": "string"
                                  }
                                },
                                "required": [
                                  "rel",
                                  "href"
                                ]
                              }
                            },
                            "id": {
                              "type": "string"
                            },
                            "refName": {
                              "type": "string"
                            }
                          }
                        },
                        "lineNumber": {
                          "type": "number"
                        },
                        "prorateEndDate": {
                          "type": "boolean"
                        },
                        "prorateStartDate": {
                          "type": "boolean"
                        },
                        "renewalOption": {
                          "type": "object",
                          "properties": {
                            "id": {
                              "type": "string"
                            },
                            "refName": {
                              "type": "string"
                            }
                          }
                        },
                        "revRecOption": {
                          "type": "object",
                          "properties": {
                            "id": {
                              "type": "string"
                            },
                            "refName": {
                              "type": "string"
                            }
                          }
                        },
                        "subscriptionLineType": {
                          "type": "object",
                          "properties": {
                            "id": {
                              "type": "string"
                            },
                            "refName": {
                              "type": "string"
                            }
                          }
                        }
                      },
                      "required": [
                        "links",
                        "billingMode",
                        "isRequired",
                        "item",
                        "lineNumber",
                        "prorateEndDate",
                        "prorateStartDate",
                        "renewalOption",
                        "revRecOption",
                        "subscriptionLineType"
                      ]
                    }
                  }
                }
              },
              "console": {
                "type": "array",
                "items": {}
              }
            }
          },
          "error_handling": {},
          "properties": {
            "variables": {
              "type": "array",
              "value": [
                {
                  "type": "object",
                  "value": {
                    "name": {
                      "type": "string",
                      "value": "items"
                    },
                    "value": {
                      "type": "jsonpath",
                      "value": "$.steps.netsuite-2.member.items"
                    }
                  }
                }
              ]
            },
            "script": {
              "type": "string",
              "value": "exports.step = function(input) {\n\tvar json = input.items;\n\n  return updateKeys(groupItems(json));\n};\n\nfunction updateKeys(groupedItems) {\n    const updatedGroup = {};\n\n    for (const key in groupedItems) {\n        if (groupedItems[key].length === 2) {\n            let baseKey = \"\";\n            let suffix = \"\";\n\n            groupedItems[key].forEach((obj) => {\n                const refName = obj.item.refName;\n                const lastPart = refName.split('-').pop();\n                if (lastPart === 'SIL' || lastPart === 'GOL' || lastPart === 'PLA') {\n                    suffix = lastPart;\n                } else {\n                    baseKey = refName;\n                }\n            });\n\n            const mergedKey = baseKey + '-' + suffix;\n            updatedGroup[mergedKey] = groupedItems[key];\n        } else {\n            updatedGroup[key] = groupedItems[key];\n        }\n    }\n\n    return updatedGroup;\n}\n\nfunction groupItems(jsonArray) {\n    const groups = {};\n\n    jsonArray.forEach((obj, index) => {\n        const itemCode = obj.item.refName;\n\n        if (index < 2) {\n            groups[itemCode] = [obj];\n            return;\n        }\n\n        const regex = /^(\\w+-\\w+-\\w+)-?(.{3})?$/;\n        const match1 = itemCode.match(regex);\n\n        let foundMatch = false;\n\n        for (const key in groups) {\n            const match2 = key.match(regex);\n\n            if (\n                match1 &&\n                match2 &&\n                match1[1] === match2[1]\n            ) {\n                groups[key].push(obj);\n                foundMatch = true;\n                break;\n            }\n        }\n\n        if (!foundMatch) {\n            const newKey =\n                itemCode;\n            groups[newKey] = [obj];\n        }\n    });\n\n    return groups;\n}"
            },
            "file_output": {
              "type": "boolean",
              "value": false
            }
          }
        },
        "netsuite-5": {
          "title": "Product Integration",
          "description": "One plan for now: https://4914352-sb5.app.netsuite.com/app/common/item/item.nl?id=76875",
          "connector": {
            "name": "netsuite",
            "version": "2.8"
          },
          "operation": "find_records",
          "output_schema": {
            "$schema": "http://json-schema.org/draft-04/schema#",
            "type": "object",
            "properties": {
              "links": {
                "type": "array",
                "items": {
                  "type": "object",
                  "properties": {
                    "rel": {
                      "type": "string"
                    },
                    "href": {
                      "type": "string"
                    }
                  }
                }
              },
              "count": {
                "type": "number"
              },
              "hasMore": {
                "type": "boolean"
              },
              "items": {
                "type": "array",
                "items": {
                  "type": "object",
                  "properties": {
                    "links": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "rel": {
                            "type": "string"
                          },
                          "href": {
                            "type": "string"
                          }
                        }
                      }
                    },
                    "id": {
                      "type": "string"
                    }
                  }
                }
              },
              "offset": {
                "type": "number"
              },
              "totalResults": {
                "type": "number"
              }
            }
          },
          "error_handling": {},
          "authentication": {
            "group": "acf5ed7f-c1d0-49ae-a8d1-89dd2b001a92",
            "title": "NS Prod",
            "service_icon": {
              "icon_type": "url",
              "value": "//s3.amazonaws.com/images.tray.io/static/service/icons/eb27b52bd4378b8bc0288428d585968b.png"
            },
            "scopes": [],
            "service_name": "netsuite",
            "service_version": 4
          },
          "properties": {
            "token_id": {
              "type": "jsonpath",
              "value": "$.auth.token_id"
            },
            "conditions_matching": {
              "type": "string",
              "value": "Match all conditions"
            },
            "record_type": {
              "value": "CUSTOMRECORDPRODUCTINTEGRATION",
              "type": "string"
            },
            "account_id": {
              "type": "jsonpath",
              "value": "$.auth.account_id"
            },
            "offset": {
              "type": "number",
              "value": 0
            },
            "consumer_key": {
              "type": "jsonpath",
              "value": "$.auth.consumer_key"
            },
            "token_secret": {
              "type": "jsonpath",
              "value": "$.auth.token_secret"
            },
            "conditions": {
              "type": "array",
              "value": [
                {
                  "type": "object",
                  "value": {
                    "field": {
                      "value": "custrecordproductfamilycode",
                      "type": "string"
                    },
                    "operator": {
                      "type": "string",
                      "value": "IS"
                    },
                    "value": {
                      "type": "jsonpath",
                      "value": "$.steps.script-2.result.productFamilyCode"
                    }
                  }
                },
                {
                  "type": "object",
                  "value": {
                    "field": {
                      "value": "custrecordproductvariantcode",
                      "type": "string"
                    },
                    "operator": {
                      "type": "string",
                      "value": "IS"
                    },
                    "value": {
                      "type": "jsonpath",
                      "value": "$.steps.script-2.result.productVariantCode"
                    }
                  }
                }
              ]
            },
            "consumer_secret": {
              "type": "jsonpath",
              "value": "$.auth.consumer_secret"
            },
            "limit": {
              "type": "number",
              "value": 500
            }
          }
        },
        "salesforce-8": {
          "title": "Update Product",
          "connector": {
            "name": "salesforce",
            "version": "8.7"
          },
          "operation": "update_record",
          "output_schema": {},
          "error_handling": {},
          "authentication": {
            "group": "2c440ec0-5ac6-4a09-aef3-d861faa8c602",
            "title": "SF-Prod",
            "service_icon": {
              "icon_type": "url",
              "value": "//s3.amazonaws.com/images.tray.io/static/service/icons/a8ff6c9514c35c853b350382534fb624.png"
            },
            "scopes": [
              "refresh_token",
              "full"
            ],
            "service_name": "salesforce",
            "service_version": 1
          },
          "properties": {
            "fields": {
              "type": "array",
              "value": [
                {
                  "type": "object",
                  "value": {
                    "key": {
                      "type": "string",
                      "value": "IsActive"
                    },
                    "value": {
                      "type": "string",
                      "value": "true"
                    }
                  }
                },
                {
                  "type": "object",
                  "value": {
                    "key": {
                      "value": "Name",
                      "type": "string"
                    },
                    "value": {
                      "type": "jsonpath",
                      "value": "$.steps.script-4.result.name"
                    }
                  }
                },
                {
                  "type": "object",
                  "value": {
                    "key": {
                      "value": "ProductCode",
                      "type": "string"
                    },
                    "value": {
                      "type": "jsonpath",
                      "value": "$.steps.script-4.result.code",
                      "fallback": {
                        "value": "",
                        "type": "string"
                      }
                    }
                  }
                },
                {
                  "type": "object",
                  "value": {
                    "key": {
                      "value": "Deployment_Type__c",
                      "type": "string"
                    },
                    "value": {
                      "type": "jsonpath",
                      "value": "$.steps.script-2.result.deploymentType",
                      "fallback": {
                        "value": "",
                        "type": "string"
                      }
                    }
                  }
                },
                {
                  "type": "object",
                  "value": {
                    "key": {
                      "type": "string",
                      "value": "NetSuite_ID__c"
                    },
                    "value": {
                      "type": "jsonpath",
                      "value": "$.steps.netsuite-2.id"
                    }
                  }
                },
                {
                  "type": "object",
                  "value": {
                    "key": {
                      "type": "string",
                      "value": "Family"
                    },
                    "value": {
                      "type": "jsonpath",
                      "value": "$.steps.script-1.result"
                    }
                  }
                },
                {
                  "type": "object",
                  "value": {
                    "key": {
                      "type": "string",
                      "value": "StockKeepingUnit"
                    },
                    "value": {
                      "type": "jsonpath",
                      "value": "$.steps.script-4.result.sku"
                    }
                  }
                },
                {
                  "type": "object",
                  "value": {
                    "key": {
                      "type": "string",
                      "value": "Product_Edition__c"
                    },
                    "value": {
                      "type": "jsonpath",
                      "value": "$.steps.script-2.result.productEdition",
                      "fallback": {
                        "value": "",
                        "type": "string"
                      }
                    }
                  }
                },
                {
                  "type": "object",
                  "value": {
                    "key": {
                      "type": "string",
                      "value": "Success_Level__c"
                    },
                    "value": {
                      "type": "jsonpath",
                      "value": "$.steps.script-2.result.successLevel",
                      "fallback": {
                        "value": "",
                        "type": "string"
                      }
                    }
                  }
                },
                {
                  "type": "object",
                  "value": {
                    "key": {
                      "type": "string",
                      "value": "Description"
                    },
                    "value": {
                      "type": "jsonpath",
                      "value": "$.steps.netsuite-2.description",
                      "fallback": {
                        "value": "",
                        "type": "string"
                      }
                    }
                  }
                },
                {
                  "type": "object",
                  "value": {
                    "key": {
                      "type": "string",
                      "value": "SBQQ__SubscriptionPricing__c"
                    },
                    "value": {
                      "type": "string",
                      "value": "Fixed Price"
                    }
                  }
                },
                {
                  "type": "object",
                  "value": {
                    "key": {
                      "type": "string",
                      "value": "SBQQ__SubscriptionTerm__c"
                    },
                    "value": {
                      "type": "string",
                      "value": "12"
                    }
                  }
                },
                {
                  "type": "object",
                  "value": {
                    "key": {
                      "type": "string",
                      "value": "SBQQ__SubscriptionType__c"
                    },
                    "value": {
                      "type": "string",
                      "value": "Renewable"
                    }
                  }
                },
                {
                  "type": "object",
                  "value": {
                    "key": {
                      "type": "string",
                      "value": "SBQQ__BillingType__c"
                    },
                    "value": {
                      "type": "string",
                      "value": "Advance"
                    }
                  }
                },
                {
                  "type": "object",
                  "value": {
                    "key": {
                      "type": "string",
                      "value": "Subscription_Terms__c"
                    },
                    "value": {
                      "type": "string",
                      "value": "12;36;60"
                    }
                  }
                },
                {
                  "type": "object",
                  "value": {
                    "key": {
                      "type": "string",
                      "value": "Product_Edition_Label__c"
                    },
                    "value": {
                      "type": "jsonpath",
                      "value": "$.steps.data-mapper-1.result"
                    }
                  }
                },
                {
                  "type": "object",
                  "value": {
                    "key": {
                      "type": "string",
                      "value": "SBQQ__PriceEditable__c"
                    },
                    "value": {
                      "type": "boolean",
                      "value": false
                    }
                  }
                },
                {
                  "type": "object",
                  "value": {
                    "key": {
                      "type": "string",
                      "value": "Floor_Price__c"
                    },
                    "value": {
                      "type": "jsonpath",
                      "value": "$.steps.netsuite-2.custitemfloorprice",
                      "fallback": {
                        "type": "null",
                        "value": null
                      }
                    }
                  }
                },
                {
                  "type": "object",
                  "value": {
                    "key": {
                      "type": "string",
                      "value": "SBQQ__ConfigurationType__c"
                    },
                    "value": {
                      "type": "jsonpath",
                      "value": "$.steps.script-10.result"
                    }
                  }
                },
                {
                  "type": "object",
                  "value": {
                    "key": {
                      "type": "string",
                      "value": "SBQQ__ChargeType__c"
                    },
                    "value": {
                      "type": "string",
                      "value": "Recurring"
                    }
                  }
                },
                {
                  "type": "object",
                  "value": {
                    "key": {
                      "type": "string",
                      "value": "SBQQ__BillingFrequency__c"
                    },
                    "value": {
                      "type": "string",
                      "value": "Annual"
                    }
                  }
                }
              ]
            },
            "object": {
              "type": "string",
              "value": "Product2"
            },
            "object_id": {
              "type": "jsonpath",
              "value": "$.steps.salesforce-1.records[0].Id"
            }
          }
        },
        "salesforce-12": {
          "title": "Get Sub-Bundle if Exist",
          "description": "Check if we have the product already",
          "connector": {
            "name": "salesforce",
            "version": "8.7"
          },
          "operation": "find_records",
          "output_schema": {
            "$schema": "http://json-schema.org/draft-04/schema#",
            "type": "object",
            "properties": {
              "total": {
                "type": "integer",
                "title": "Total count"
              },
              "next_page_offset": {
                "type": "string",
                "title": "Next page offset"
              },
              "records": {
                "title": "Products",
                "type": "array",
                "items": {
                  "type": "object",
                  "title": "Product",
                  "properties": {
                    "Id": {
                      "name": "Id",
                      "type": "string",
                      "title": "Product ID"
                    },
                    "Name": {
                      "name": "Name",
                      "type": "string",
                      "title": "Product Name"
                    },
                    "LastModifiedDate": {
                      "name": "LastModifiedDate",
                      "type": "string",
                      "title": "Last Modified Date"
                    }
                  }
                }
              }
            }
          },
          "error_handling": {},
          "authentication": {
            "group": "2c440ec0-5ac6-4a09-aef3-d861faa8c602",
            "title": "SF-Prod",
            "service_icon": {
              "icon_type": "url",
              "value": "//s3.amazonaws.com/images.tray.io/static/service/icons/a8ff6c9514c35c853b350382534fb624.png"
            },
            "scopes": [
              "refresh_token",
              "full"
            ],
            "service_name": "salesforce",
            "service_version": 1
          },
          "properties": {
            "conditions_type": {
              "type": "string",
              "value": "Match all conditions"
            },
            "include_all_fields": {
              "type": "boolean",
              "value": false
            },
            "fields": {
              "type": "array",
              "value": [
                {
                  "type": "string",
                  "value": "Id"
                },
                {
                  "type": "string",
                  "value": "Name"
                },
                {
                  "type": "string",
                  "value": "LastModifiedDate"
                }
              ]
            },
            "object": {
              "type": "string",
              "value": "Product2"
            },
            "conditions": {
              "type": "array",
              "value": [
                {
                  "type": "object",
                  "value": {
                    "field": {
                      "type": "string",
                      "value": "StockKeepingUnit"
                    },
                    "operator": {
                      "type": "string",
                      "value": "Equal to"
                    },
                    "value": {
                      "type": "jsonpath",
                      "value": "$.steps.netsuite-7.response.body.items[0].displayname",
                      "fallback": {
                        "value": "{$.steps.loop-4.key}",
                        "type": "string"
                      }
                    }
                  }
                }
              ]
            }
          }
        },
        "storage-3": {
          "title": "Store Product Id",
          "description": "Store the inserted product Id.",
          "connector": {
            "name": "storage",
            "version": "1.4"
          },
          "operation": "set",
          "output_schema": {},
          "error_handling": {},
          "properties": {
            "scope": {
              "type": "string",
              "value": "Current Run"
            },
            "key": {
              "type": "string",
              "value": "addon_product_id"
            },
            "value": {
              "type": "jsonpath",
              "value": "$.steps.salesforce-13.id"
            }
          }
        },
        "storage-8": {
          "title": "Get Item Mapping",
          "connector": {
            "name": "storage",
            "version": "1.4"
          },
          "operation": "get",
          "output_schema": {},
          "error_handling": {},
          "properties": {
            "scope": {
              "type": "string",
              "value": "Current Run"
            },
            "key": {
              "type": "string",
              "value": "parent_prod_for_{$.steps.loop-2.value.item.id}"
            },
            "default_value": {
              "type": "null",
              "value": null
            }
          }
        },
        "boolean-condition-4": {
          "title": "Create Product?",
          "description": "Create the Product if it does not exist.",
          "connector": {
            "name": "boolean-condition",
            "version": "2.3"
          },
          "operation": "boolean_condition",
          "output_schema": {},
          "error_handling": {},
          "properties": {
            "conditions": {
              "type": "array",
              "value": [
                {
                  "type": "object",
                  "value": {
                    "value1": {
                      "type": "jsonpath",
                      "value": "$.steps.salesforce-1.total"
                    },
                    "comparison_type": {
                      "type": "string",
                      "value": "==="
                    },
                    "value2": {
                      "type": "number",
                      "value": 0
                    }
                  }
                }
              ]
            },
            "strictness": {
              "type": "string",
              "value": "All"
            }
          }
        },
        "storage-4": {
          "title": "Store Product Id",
          "description": "Store the loaded product id",
          "connector": {
            "name": "storage",
            "version": "1.4"
          },
          "operation": "set",
          "output_schema": {},
          "error_handling": {},
          "properties": {
            "scope": {
              "type": "string",
              "value": "Current Run"
            },
            "key": {
              "type": "string",
              "value": "addon_product_id"
            },
            "value": {
              "type": "jsonpath",
              "value": "$.steps.salesforce-12.records[0].Id"
            }
          }
        },
        "storage-11": {
          "title": "Store Product Id",
          "description": "Store the loaded product id",
          "connector": {
            "name": "storage",
            "version": "1.4"
          },
          "operation": "set",
          "output_schema": {},
          "error_handling": {},
          "properties": {
            "scope": {
              "type": "string",
              "value": "Current Run"
            },
            "key": {
              "type": "string",
              "value": "product_id"
            },
            "value": {
              "type": "jsonpath",
              "value": "$.steps.salesforce-1.records[0].Id"
            }
          }
        },
        "script-7": {
          "title": "Sub Bundle Item?",
          "connector": {
            "name": "script",
            "version": "3.3"
          },
          "operation": "execute",
          "output_schema": {},
          "error_handling": {},
          "properties": {
            "variables": {
              "type": "array",
              "value": [
                {
                  "type": "object",
                  "value": {
                    "name": {
                      "type": "string",
                      "value": "parentOverride"
                    },
                    "value": {
                      "type": "jsonpath",
                      "value": "$.steps.storage-8.value"
                    }
                  }
                },
                {
                  "type": "object",
                  "value": {
                    "name": {
                      "type": "string",
                      "value": "productCode"
                    },
                    "value": {
                      "type": "jsonpath",
                      "value": "$.steps.script-4.result.code"
                    }
                  }
                }
              ]
            },
            "script": {
              "type": "string",
              "value": "// True, if it is a item in a subbundle\nexports.step = function(input) {\n\treturn ({\n    isLeaf: (!input.productCode.includes('-MNT') && !!input.parentOverride),\n    isSubbundleItem: !!input.parentOverride\n  });\n};"
            },
            "file_output": {
              "type": "boolean",
              "value": false
            }
          }
        },
        "call-workflow-6": {
          "title": "Add Option",
          "connector": {
            "name": "call-workflow",
            "version": "2.0"
          },
          "operation": "fire_and_wait_for_response",
          "output_schema": {},
          "error_handling": {},
          "properties": {
            "workflow_id": {
              "type": "string",
              "value": "5f5d1574-58e0-4451-8c93-dce41bad2a79"
            },
            "trigger_input": {
              "type": "object",
              "value": {
                "isRequired": {
                  "type": "jsonpath",
                  "value": "$.steps.call-workflow-5.response.fields.isRequired",
                  "fallback": {
                    "type": "null",
                    "value": null
                  }
                },
                "configuredSku": {
                  "type": "jsonpath",
                  "value": "$.steps.storage-8.value",
                  "fallback": {
                    "value": "$.steps.storage-12.value",
                    "type": "jsonpath"
                  }
                },
                "optionalSku": {
                  "type": "jsonpath",
                  "value": "$.steps.storage-9.value",
                  "fallback": {
                    "type": "string"
                  }
                },
                "number": {
                  "type": "jsonpath",
                  "value": "$.steps.loop-2.value.lineNumber"
                },
                "subbundle": {
                  "value": false,
                  "type": "boolean"
                },
                "leafProduct": {
                  "type": "jsonpath",
                  "value": "$.steps.script-7.result.isLeaf"
                },
                "mntPlan": {
                  "type": "jsonpath",
                  "value": "$.steps.script-4.result.mntPlan"
                },
                "chargeType": {
                  "type": "jsonpath",
                  "value": "$.steps.call-workflow-5.response.fields.chargeType",
                  "fallback": {
                    "value": "",
                    "type": "string"
                  }
                },
                "isSubbundleItem": {
                  "type": "jsonpath",
                  "value": "$.steps.script-7.result.isSubbundleItem"
                }
              }
            }
          }
        },
        "storage-15": {
          "title": "Clean ProductCreated",
          "description": "Clean the variable if the product was created to not have any value for next loop iteration.",
          "connector": {
            "name": "storage",
            "version": "1.4"
          },
          "operation": "set",
          "output_schema": {},
          "error_handling": {},
          "properties": {
            "scope": {
              "type": "string",
              "value": "Current Run"
            },
            "key": {
              "type": "string",
              "value": "productCreated"
            },
            "value": {
              "type": "boolean",
              "value": false
            }
          }
        },
        "terminate-1": {
          "title": "Terminate",
          "connector": {
            "name": "terminate",
            "version": "1.1"
          },
          "operation": "fail_run",
          "output_schema": {},
          "error_handling": {},
          "properties": {
            "message": {
              "type": "string",
              "value": "No product integration record found:'{$.steps.script-2.result.productFamilyCode}-{$.steps.script-2.result.productVariantCode}'"
            }
          }
        },
        "script-4": {
          "title": "Remove Plan Version",
          "connector": {
            "name": "script",
            "version": "3.3"
          },
          "operation": "execute",
          "output_schema": {},
          "error_handling": {},
          "properties": {
            "variables": {
              "type": "array",
              "value": [
                {
                  "type": "object",
                  "value": {
                    "name": {
                      "type": "string",
                      "value": "code"
                    },
                    "value": {
                      "type": "jsonpath",
                      "value": "$.steps.netsuite-2.displayName"
                    }
                  }
                },
                {
                  "type": "object",
                  "value": {
                    "name": {
                      "type": "string",
                      "value": "name"
                    },
                    "value": {
                      "type": "jsonpath",
                      "value": "$.steps.netsuite-2.itemId"
                    }
                  }
                }
              ]
            },
            "script": {
              "type": "string",
              "value": "// Regular expression to cut of an optional '-\\d\\d\\d' postfix. \n// E.g. 'ACR-HO-CRM-STA-SIL-001' should be replaced with 'ACR-HO-CRM-STA-SIL'\nexports.step = function (input) {\n  const code = input.code.replace(/-\\d\\d\\d$/, '');\n  return ({\n    code: code,\n    sku: input.code,\n    name: input.name.replace(/-\\d\\d\\d$/, ''),\n    mntPlan: input.code.includes('-MNT'),\n  });\n};\n"
            },
            "file_output": {
              "type": "boolean",
              "value": false
            }
          }
        },
        "call-workflow-8": {
          "title": "Create Add-on Prices",
          "description": "Call the Prices for the main product",
          "connector": {
            "name": "call-workflow",
            "version": "2.0"
          },
          "operation": "fire_and_wait_for_response",
          "output_schema": {},
          "error_handling": {},
          "properties": {
            "workflow_id": {
              "type": "string",
              "value": "3209901b-cc87-4c18-b301-1f103b7a82a7"
            },
            "trigger_input": {
              "type": "object",
              "value": {
                "ns_subscription_plan_id": {
                  "type": "jsonpath",
                  "value": "$.steps.netsuite-1.items[0].id"
                },
                "sf_product_id": {
                  "type": "jsonpath",
                  "value": "$.steps.storage-5.value"
                },
                "item_id": {
                  "type": "jsonpath",
                  "value": "$.steps.loop-4.value[0].item.id"
                }
              }
            }
          }
        },
        "boolean-condition-8": {
          "title": "Update price?",
          "description": "If the price should be updated according to the rules in script-6",
          "connector": {
            "name": "boolean-condition",
            "version": "2.3"
          },
          "operation": "boolean_condition",
          "output_schema": {},
          "error_handling": {},
          "properties": {
            "conditions": {
              "type": "array",
              "value": [
                {
                  "type": "object",
                  "value": {
                    "value1": {
                      "type": "jsonpath",
                      "value": "$.steps.script-6.result.updatePrice"
                    },
                    "comparison_type": {
                      "type": "string",
                      "value": "==="
                    },
                    "value2": {
                      "type": "boolean",
                      "value": true
                    },
                    "is_case_sensitive": {
                      "value": false,
                      "type": "boolean"
                    }
                  }
                }
              ]
            },
            "strictness": {
              "type": "string",
              "value": "All"
            }
          }
        },
        "storage-7": {
          "title": "Set Second Item Mapping",
          "connector": {
            "name": "storage",
            "version": "1.4"
          },
          "operation": "set",
          "output_schema": {},
          "error_handling": {},
          "properties": {
            "scope": {
              "type": "string",
              "value": "Current Run"
            },
            "key": {
              "type": "string",
              "value": "parent_prod_for_{$.steps.loop-4.value[1].item.id}"
            },
            "value": {
              "type": "jsonpath",
              "value": "$.steps.storage-5.value"
            }
          }
        },
        "boolean-condition-7": {
          "title": "Create Sub-Bundle?",
          "description": "Create the Product if it does not exist.",
          "connector": {
            "name": "boolean-condition",
            "version": "2.3"
          },
          "operation": "boolean_condition",
          "output_schema": {},
          "error_handling": {},
          "properties": {
            "conditions": {
              "type": "array",
              "value": [
                {
                  "type": "object",
                  "value": {
                    "value1": {
                      "type": "jsonpath",
                      "value": "$.steps.salesforce-12.total"
                    },
                    "comparison_type": {
                      "type": "string",
                      "value": "==="
                    },
                    "value2": {
                      "type": "number",
                      "value": 0
                    }
                  }
                }
              ]
            },
            "strictness": {
              "type": "string",
              "value": "All"
            }
          }
        },
        "callable-workflow-response-2": {
          "title": "Callable response",
          "connector": {
            "name": "callable-workflow-response",
            "version": "1.0"
          },
          "operation": "response",
          "output_schema": {},
          "error_handling": {},
          "properties": {
            "response": {
              "value": {
                "productId": {
                  "type": "string",
                  "value": "-1"
                }
              },
              "type": "object"
            }
          }
        },
        "salesforce-13": {
          "title": "Create Add-On Bundle",
          "connector": {
            "name": "salesforce",
            "version": "8.7"
          },
          "operation": "create_record",
          "output_schema": {},
          "error_handling": {},
          "authentication": {
            "group": "2c440ec0-5ac6-4a09-aef3-d861faa8c602",
            "title": "SF-Prod",
            "service_icon": {
              "icon_type": "url",
              "value": "//s3.amazonaws.com/images.tray.io/static/service/icons/a8ff6c9514c35c853b350382534fb624.png"
            },
            "scopes": [
              "refresh_token",
              "full"
            ],
            "service_name": "salesforce",
            "service_version": 1
          },
          "properties": {
            "object": {
              "type": "string",
              "value": "Product2"
            },
            "fields": {
              "type": "jsonpath",
              "value": "$.steps.script-8.result"
            }
          }
        },
        "storage-10": {
          "title": "Store Product Id",
          "description": "Store the inserted product Id.",
          "connector": {
            "name": "storage",
            "version": "1.4"
          },
          "operation": "set",
          "output_schema": {},
          "error_handling": {},
          "properties": {
            "scope": {
              "type": "string",
              "value": "Current Run"
            },
            "key": {
              "type": "string",
              "value": "product_id"
            },
            "value": {
              "type": "jsonpath",
              "value": "$.steps.salesforce-2.id"
            }
          }
        },
        "netsuite-3": {
          "title": "Find PriceBooks",
          "description": "Load the Plan Pricebooks",
          "connector": {
            "name": "netsuite",
            "version": "2.8"
          },
          "operation": "find_records",
          "output_schema": {},
          "error_handling": {},
          "authentication": {
            "group": "acf5ed7f-c1d0-49ae-a8d1-89dd2b001a92",
            "title": "NS Prod",
            "service_icon": {
              "icon_type": "url",
              "value": "//s3.amazonaws.com/images.tray.io/static/service/icons/eb27b52bd4378b8bc0288428d585968b.png"
            },
            "scopes": [],
            "service_name": "netsuite",
            "service_version": 4
          },
          "properties": {
            "account_id": {
              "type": "jsonpath",
              "value": "$.auth.account_id"
            },
            "consumer_key": {
              "type": "jsonpath",
              "value": "$.auth.consumer_key"
            },
            "consumer_secret": {
              "type": "jsonpath",
              "value": "$.auth.consumer_secret"
            },
            "token_id": {
              "type": "jsonpath",
              "value": "$.auth.token_id"
            },
            "token_secret": {
              "type": "jsonpath",
              "value": "$.auth.token_secret"
            },
            "record_type": {
              "type": "string",
              "value": "priceBook"
            },
            "conditions": {
              "type": "array",
              "value": [
                {
                  "type": "object",
                  "value": {
                    "field": {
                      "type": "string",
                      "value": "subscriptionPlan"
                    },
                    "operator": {
                      "type": "string",
                      "value": "EQUAL"
                    },
                    "value": {
                      "type": "jsonpath",
                      "value": "$.steps.netsuite-2.id"
                    }
                  }
                },
                {
                  "type": "object",
                  "value": {
                    "field": {
                      "type": "string",
                      "value": "name"
                    },
                    "operator": {
                      "type": "string",
                      "value": "CONTAIN_NOT"
                    },
                    "value": {
                      "type": "string",
                      "value": "DO NOT USE"
                    }
                  }
                }
              ]
            },
            "limit": {
              "type": "number",
              "value": 100
            },
            "offset": {
              "type": "number",
              "value": 0
            },
            "conditions_matching": {
              "type": "string",
              "value": "Match all conditions"
            }
          }
        },
        "call-workflow-5": {
          "title": "Get Item Product Info",
          "connector": {
            "name": "call-workflow",
            "version": "2.0"
          },
          "operation": "fire_and_wait_for_response",
          "output_schema": {
            "$schema": "http://json-schema.org/draft-04/schema#",
            "type": "object",
            "properties": {
              "response": {
                "type": "object",
                "properties": {
                  "item": {
                    "type": "object",
                    "properties": {
                      "links": {
                        "type": "array",
                        "items": {
                          "type": "object",
                          "properties": {
                            "rel": {
                              "type": "string"
                            },
                            "href": {
                              "type": "string"
                            }
                          }
                        }
                      },
                      "class": {
                        "type": "object",
                        "properties": {
                          "links": {
                            "type": "array",
                            "items": {}
                          },
                          "id": {
                            "type": "string"
                          },
                          "refName": {
                            "type": "string"
                          }
                        }
                      },
                      "createdDate": {
                        "type": "string"
                      },
                      "createRevenuePlansOn": {
                        "type": "object",
                        "properties": {
                          "links": {
                            "type": "array",
                            "items": {}
                          },
                          "id": {
                            "type": "string"
                          },
                          "refName": {
                            "type": "string"
                          }
                        }
                      },
                      "custitem1": {
                        "type": "boolean"
                      },
                      "custitem_item_category": {
                        "type": "object",
                        "properties": {
                          "links": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "properties": {
                                "rel": {
                                  "type": "string"
                                },
                                "href": {
                                  "type": "string"
                                }
                              }
                            }
                          },
                          "id": {
                            "type": "string"
                          },
                          "refName": {
                            "type": "string"
                          }
                        }
                      },
                      "custitem_item_pricing_type": {
                        "type": "object",
                        "properties": {
                          "links": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "properties": {
                                "rel": {
                                  "type": "string"
                                },
                                "href": {
                                  "type": "string"
                                }
                              }
                            }
                          },
                          "id": {
                            "type": "string"
                          },
                          "refName": {
                            "type": "string"
                          }
                        }
                      },
                      "custitem_mtce_support_type": {
                        "type": "object",
                        "properties": {
                          "links": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "properties": {
                                "rel": {
                                  "type": "string"
                                },
                                "href": {
                                  "type": "string"
                                }
                              }
                            }
                          },
                          "id": {
                            "type": "string"
                          },
                          "refName": {
                            "type": "string"
                          }
                        }
                      },
                      "custitem_nso_is_ieps": {
                        "type": "boolean"
                      },
                      "custitem_opt_out_ms": {
                        "type": "boolean"
                      },
                      "custitem_product_line": {
                        "type": "object",
                        "properties": {
                          "links": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "properties": {
                                "rel": {
                                  "type": "string"
                                },
                                "href": {
                                  "type": "string"
                                }
                              }
                            }
                          },
                          "id": {
                            "type": "string"
                          },
                          "refName": {
                            "type": "string"
                          }
                        }
                      },
                      "custitem_product_tier": {
                        "type": "object",
                        "properties": {
                          "links": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "properties": {
                                "rel": {
                                  "type": "string"
                                },
                                "href": {
                                  "type": "string"
                                }
                              }
                            }
                          },
                          "id": {
                            "type": "string"
                          },
                          "refName": {
                            "type": "string"
                          }
                        }
                      },
                      "custitem_quantity_type": {
                        "type": "object",
                        "properties": {
                          "links": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "properties": {
                                "rel": {
                                  "type": "string"
                                },
                                "href": {
                                  "type": "string"
                                }
                              }
                            }
                          },
                          "id": {
                            "type": "string"
                          },
                          "refName": {
                            "type": "string"
                          }
                        }
                      },
                      "custitem_renewals_exclusion": {
                        "type": "boolean"
                      },
                      "custitem_revenue_type": {
                        "type": "object",
                        "properties": {
                          "links": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "properties": {
                                "rel": {
                                  "type": "string"
                                },
                                "href": {
                                  "type": "string"
                                }
                              }
                            }
                          },
                          "id": {
                            "type": "string"
                          },
                          "refName": {
                            "type": "string"
                          }
                        }
                      },
                      "custitem_ste_item_taxitem_type": {
                        "type": "object",
                        "properties": {
                          "links": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "properties": {
                                "rel": {
                                  "type": "string"
                                },
                                "href": {
                                  "type": "string"
                                }
                              }
                            }
                          },
                          "id": {
                            "type": "string"
                          },
                          "refName": {
                            "type": "string"
                          }
                        }
                      },
                      "custitemzuorataxable": {
                        "type": "boolean"
                      },
                      "customForm": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "string"
                          },
                          "refName": {
                            "type": "string"
                          }
                        }
                      },
                      "deferredRevenueAccount": {
                        "type": "object",
                        "properties": {
                          "links": {
                            "type": "array",
                            "items": {}
                          },
                          "id": {
                            "type": "string"
                          },
                          "refName": {
                            "type": "string"
                          }
                        }
                      },
                      "department": {
                        "type": "object",
                        "properties": {
                          "links": {
                            "type": "array",
                            "items": {}
                          },
                          "id": {
                            "type": "string"
                          },
                          "refName": {
                            "type": "string"
                          }
                        }
                      },
                      "directRevenuePosting": {
                        "type": "boolean"
                      },
                      "displayName": {
                        "type": "string"
                      },
                      "enforceminqtyinternally": {
                        "type": "boolean"
                      },
                      "externalId": {
                        "type": "string"
                      },
                      "id": {
                        "type": "string"
                      },
                      "includeChildren": {
                        "type": "boolean"
                      },
                      "incomeAccount": {
                        "type": "object",
                        "properties": {
                          "links": {
                            "type": "array",
                            "items": {}
                          },
                          "id": {
                            "type": "string"
                          },
                          "refName": {
                            "type": "string"
                          }
                        }
                      },
                      "isFulfillable": {
                        "type": "boolean"
                      },
                      "isGCoCompliant": {
                        "type": "boolean"
                      },
                      "isInactive": {
                        "type": "boolean"
                      },
                      "isOnline": {
                        "type": "boolean"
                      },
                      "itemId": {
                        "type": "string"
                      },
                      "itemType": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "string"
                          },
                          "refName": {
                            "type": "string"
                          }
                        }
                      },
                      "lastModifiedDate": {
                        "type": "string"
                      },
                      "offerSupport": {
                        "type": "boolean"
                      },
                      "price": {
                        "type": "object",
                        "properties": {
                          "links": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "properties": {
                                "rel": {
                                  "type": "string"
                                },
                                "href": {
                                  "type": "string"
                                }
                              }
                            }
                          },
                          "items": {
                            "type": "array",
                            "items": {}
                          },
                          "totalResults": {
                            "type": "number"
                          }
                        }
                      },
                      "revenueRecognitionRule": {
                        "type": "object",
                        "properties": {
                          "links": {
                            "type": "array",
                            "items": {}
                          },
                          "id": {
                            "type": "string"
                          },
                          "refName": {
                            "type": "string"
                          }
                        }
                      },
                      "revRecForecastRule": {
                        "type": "object",
                        "properties": {
                          "links": {
                            "type": "array",
                            "items": {}
                          },
                          "id": {
                            "type": "string"
                          },
                          "refName": {
                            "type": "string"
                          }
                        }
                      },
                      "salesDescription": {
                        "type": "string"
                      },
                      "subsidiary": {
                        "type": "object",
                        "properties": {
                          "links": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "properties": {
                                "rel": {
                                  "type": "string"
                                },
                                "href": {
                                  "type": "string"
                                }
                              }
                            }
                          },
                          "count": {
                            "type": "number"
                          },
                          "hasMore": {
                            "type": "boolean"
                          },
                          "items": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "properties": {
                                "links": {
                                  "type": "array",
                                  "items": {
                                    "type": "object",
                                    "properties": {
                                      "rel": {
                                        "type": "string"
                                      },
                                      "href": {
                                        "type": "string"
                                      }
                                    },
                                    "required": [
                                      "rel",
                                      "href"
                                    ]
                                  }
                                },
                                "id": {
                                  "type": "string"
                                },
                                "refName": {
                                  "type": "string"
                                }
                              },
                              "required": [
                                "links",
                                "id",
                                "refName"
                              ]
                            }
                          },
                          "offset": {
                            "type": "number"
                          },
                          "totalResults": {
                            "type": "number"
                          }
                        }
                      },
                      "useMarginalRates": {
                        "type": "boolean"
                      },
                      "VSOEDelivered": {
                        "type": "boolean"
                      },
                      "VSOESopGroup": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "string"
                          },
                          "refName": {
                            "type": "string"
                          }
                        }
                      }
                    }
                  },
                  "codeProperties": {
                    "type": "object",
                    "properties": {
                      "successLevel": {
                        "type": "null"
                      },
                      "productEdition": {
                        "type": "string"
                      },
                      "deploymentType": {
                        "type": "string"
                      }
                    }
                  },
                  "planLineProperties": {
                    "type": "object",
                    "properties": {
                      "subscriptionType": {
                        "type": "string"
                      },
                      "chargeType": {
                        "type": "string"
                      },
                      "billingType": {
                        "type": "string"
                      },
                      "component": {
                        "type": "boolean"
                      }
                    }
                  },
                  "fields": {
                    "type": "object",
                    "properties": {
                      "subscriptionType": {
                        "type": "string"
                      },
                      "chargeType": {
                        "type": "string"
                      },
                      "billingType": {
                        "type": "string"
                      },
                      "component": {
                        "type": "boolean"
                      },
                      "successLevel": {
                        "type": "null"
                      },
                      "productEdition": {
                        "type": "string"
                      },
                      "deploymentType": {
                        "type": "string"
                      }
                    }
                  }
                }
              },
              "#workspace_id_hash": {
                "type": "string"
              },
              "#username_hash": {
                "type": "string"
              },
              "#workflow_title": {
                "type": "string"
              },
              "#execution_uuid": {
                "type": "string"
              },
              "#execution_start_time": {
                "type": "string"
              },
              "#execution_log_url": {
                "type": "string"
              },
              "#organization_uuid": {
                "type": "string"
              },
              "#datapot_id_hash": {
                "type": "string"
              },
              "#workflow_uuid": {
                "type": "string"
              }
            }
          },
          "error_handling": {},
          "properties": {
            "workflow_id": {
              "type": "string",
              "value": "29bc39a3-3c98-49b6-ba2d-284ebcd12e2a"
            },
            "trigger_input": {
              "type": "object",
              "value": {
                "itemId": {
                  "type": "jsonpath",
                  "value": "$.steps.loop-2.value.item.id"
                },
                "subscriptionPlan": {
                  "type": "jsonpath",
                  "value": "$.steps.netsuite-2"
                }
              }
            }
          }
        },
        "storage-14": {
          "title": "Get ProductCreated",
          "description": "Gettting if the product was just created.",
          "connector": {
            "name": "storage",
            "version": "1.4"
          },
          "operation": "get",
          "output_schema": {},
          "error_handling": {},
          "properties": {
            "scope": {
              "type": "string",
              "value": "Current Run"
            },
            "default_value": {
              "type": "boolean",
              "value": false
            },
            "key": {
              "type": "string",
              "value": "productCreated"
            }
          }
        },
        "script-8": {
          "title": "Reformat Fields",
          "description": "Compares the properties of two objects (AS-IS and TO-BE) and returns an array of key-value pairs containing only the updated properties. If there are no differences, the returned array will be empty.",
          "connector": {
            "name": "script",
            "version": "3.3"
          },
          "operation": "execute",
          "output_schema": {},
          "error_handling": {},
          "properties": {
            "variables": {
              "type": "array",
              "value": [
                {
                  "type": "object",
                  "value": {
                    "name": {
                      "type": "string",
                      "value": "newRecord"
                    },
                    "value": {
                      "type": "jsonpath",
                      "value": "$.steps.object-helpers-1.result"
                    }
                  }
                },
                {
                  "type": "object",
                  "value": {
                    "name": {
                      "type": "string",
                      "value": "salesforceGetTotal"
                    },
                    "value": {
                      "type": "jsonpath",
                      "value": "$.steps.salesforce-12.total"
                    }
                  }
                }
              ]
            },
            "script": {
              "type": "string",
              "value": "// This transforms the record to the form, suitable for the SF connector\nexports.step = function(input, fileInput) {\n  const newRecord = input.newRecord;\n  const updatedFields = [];\n\n  // if total is not empty it means it's an update and we don't need to update the minimum quantity\n  if (input.salesforceGetTotal) {\n    delete newRecord.Min_Quantity__c;\n  }\n\n  for (const key in newRecord) {\n      updatedFields.push({ key, value: newRecord[key] });\n  }\n\n  return updatedFields;\n};"
            },
            "file_output": {
              "type": "boolean",
              "value": false
            }
          }
        },
        "boolean-condition-6": {
          "title": "No Integration Record?",
          "connector": {
            "name": "boolean-condition",
            "version": "2.3"
          },
          "operation": "boolean_condition",
          "output_schema": {},
          "error_handling": {},
          "properties": {
            "conditions": {
              "type": "array",
              "value": [
                {
                  "type": "object",
                  "value": {
                    "value1": {
                      "type": "jsonpath",
                      "value": "$.steps.netsuite-5.items[0].id",
                      "fallback": {
                        "type": "null",
                        "value": null
                      }
                    },
                    "comparison_type": {
                      "type": "string",
                      "value": "==="
                    },
                    "value2": {
                      "type": "null",
                      "value": null
                    }
                  }
                }
              ]
            },
            "strictness": {
              "type": "string",
              "value": "All"
            }
          }
        },
        "loop-4": {
          "title": "Grouped Add-Ons",
          "connector": {
            "name": "loop",
            "version": "1.3"
          },
          "operation": "loop_object",
          "output_schema": {
            "$schema": "http://json-schema.org/draft-04/schema#",
            "type": "object",
            "properties": {
              "value": {
                "type": "object",
                "properties": {
                  "Nor-OP-Xin-STA": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "links": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "rel": {
                                "type": "string"
                              },
                              "href": {
                                "type": "string"
                              }
                            }
                          }
                        },
                        "billingMode": {
                          "type": "object",
                          "properties": {
                            "id": {
                              "type": "string"
                            },
                            "refName": {
                              "type": "string"
                            }
                          }
                        },
                        "isRequired": {
                          "type": "boolean"
                        },
                        "item": {
                          "type": "object",
                          "properties": {
                            "links": {
                              "type": "array",
                              "items": {
                                "type": "object",
                                "properties": {
                                  "rel": {
                                    "type": "string"
                                  },
                                  "href": {
                                    "type": "string"
                                  }
                                }
                              }
                            },
                            "id": {
                              "type": "string"
                            },
                            "refName": {
                              "type": "string"
                            }
                          }
                        },
                        "lineNumber": {
                          "type": "number"
                        },
                        "prorateEndDate": {
                          "type": "boolean"
                        },
                        "prorateStartDate": {
                          "type": "boolean"
                        },
                        "renewalOption": {
                          "type": "object",
                          "properties": {
                            "id": {
                              "type": "string"
                            },
                            "refName": {
                              "type": "string"
                            }
                          }
                        },
                        "revRecOption": {
                          "type": "object",
                          "properties": {
                            "id": {
                              "type": "string"
                            },
                            "refName": {
                              "type": "string"
                            }
                          }
                        },
                        "subscriptionLineType": {
                          "type": "object",
                          "properties": {
                            "id": {
                              "type": "string"
                            },
                            "refName": {
                              "type": "string"
                            }
                          }
                        }
                      }
                    }
                  },
                  "Nor-OP-Xin-SIL": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "links": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "rel": {
                                "type": "string"
                              },
                              "href": {
                                "type": "string"
                              }
                            }
                          }
                        },
                        "billingMode": {
                          "type": "object",
                          "properties": {
                            "id": {
                              "type": "string"
                            },
                            "refName": {
                              "type": "string"
                            }
                          }
                        },
                        "isRequired": {
                          "type": "boolean"
                        },
                        "item": {
                          "type": "object",
                          "properties": {
                            "links": {
                              "type": "array",
                              "items": {
                                "type": "object",
                                "properties": {
                                  "rel": {
                                    "type": "string"
                                  },
                                  "href": {
                                    "type": "string"
                                  }
                                }
                              }
                            },
                            "id": {
                              "type": "string"
                            },
                            "refName": {
                              "type": "string"
                            }
                          }
                        },
                        "lineNumber": {
                          "type": "number"
                        },
                        "prorateEndDate": {
                          "type": "boolean"
                        },
                        "prorateStartDate": {
                          "type": "boolean"
                        },
                        "renewalOption": {
                          "type": "object",
                          "properties": {
                            "id": {
                              "type": "string"
                            },
                            "refName": {
                              "type": "string"
                            }
                          }
                        },
                        "revRecOption": {
                          "type": "object",
                          "properties": {
                            "id": {
                              "type": "string"
                            },
                            "refName": {
                              "type": "string"
                            }
                          }
                        },
                        "subscriptionLineType": {
                          "type": "object",
                          "properties": {
                            "id": {
                              "type": "string"
                            },
                            "refName": {
                              "type": "string"
                            }
                          }
                        }
                      }
                    }
                  },
                  "Nor-TE-SDK-ADD-SIL": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "links": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "rel": {
                                "type": "string"
                              },
                              "href": {
                                "type": "string"
                              }
                            },
                            "required": [
                              "rel",
                              "href"
                            ]
                          }
                        },
                        "billingMode": {
                          "type": "object",
                          "properties": {
                            "id": {
                              "type": "string"
                            },
                            "refName": {
                              "type": "string"
                            }
                          }
                        },
                        "isRequired": {
                          "type": "boolean"
                        },
                        "item": {
                          "type": "object",
                          "properties": {
                            "links": {
                              "type": "array",
                              "items": {
                                "type": "object",
                                "properties": {
                                  "rel": {
                                    "type": "string"
                                  },
                                  "href": {
                                    "type": "string"
                                  }
                                },
                                "required": [
                                  "rel",
                                  "href"
                                ]
                              }
                            },
                            "id": {
                              "type": "string"
                            },
                            "refName": {
                              "type": "string"
                            }
                          }
                        },
                        "lineNumber": {
                          "type": "number"
                        },
                        "prorateEndDate": {
                          "type": "boolean"
                        },
                        "prorateStartDate": {
                          "type": "boolean"
                        },
                        "renewalOption": {
                          "type": "object",
                          "properties": {
                            "id": {
                              "type": "string"
                            },
                            "refName": {
                              "type": "string"
                            }
                          }
                        },
                        "revRecOption": {
                          "type": "object",
                          "properties": {
                            "id": {
                              "type": "string"
                            },
                            "refName": {
                              "type": "string"
                            }
                          }
                        },
                        "subscriptionLineType": {
                          "type": "object",
                          "properties": {
                            "id": {
                              "type": "string"
                            },
                            "refName": {
                              "type": "string"
                            }
                          }
                        }
                      },
                      "required": [
                        "links",
                        "billingMode",
                        "isRequired",
                        "item",
                        "lineNumber",
                        "prorateEndDate",
                        "prorateStartDate",
                        "renewalOption",
                        "revRecOption",
                        "subscriptionLineType"
                      ]
                    }
                  }
                }
              },
              "key": {
                "type": "string"
              },
              "index": {
                "type": "number"
              },
              "is_first": {
                "type": "boolean"
              },
              "is_last": {
                "type": "boolean"
              },
              "branch_name": {
                "type": "string"
              }
            }
          },
          "error_handling": {},
          "properties": {
            "array": {
              "type": "array",
              "value": []
            },
            "object": {
              "type": "jsonpath",
              "value": "$.steps.script-3.result"
            }
          }
        },
        "storage-13": {
          "title": "Set ProductCreated",
          "description": "Storing in a variable if the product was created. We need to set the price book for new products.",
          "connector": {
            "name": "storage",
            "version": "1.4"
          },
          "operation": "set",
          "output_schema": {},
          "error_handling": {},
          "properties": {
            "scope": {
              "type": "string",
              "value": "Current Run"
            },
            "key": {
              "type": "string",
              "value": "productCreated"
            },
            "value": {
              "type": "boolean",
              "value": true
            }
          }
        },
        "call-workflow-10": {
          "title": "Hide Sub-Options",
          "connector": {
            "name": "call-workflow",
            "version": "2.0"
          },
          "operation": "fire_and_wait_for_response",
          "output_schema": {},
          "error_handling": {},
          "properties": {
            "workflow_id": {
              "type": "string",
              "value": "3a9d77f7-a3e6-4e60-854d-809c569155ba"
            },
            "trigger_input": {
              "type": "object",
              "value": {
                "productId": {
                  "type": "jsonpath",
                  "value": "$.steps.storage-12.value"
                }
              }
            }
          }
        },
        "storage-1": {
          "title": "Save Item Id",
          "connector": {
            "name": "storage",
            "version": "1.4"
          },
          "operation": "set",
          "output_schema": {},
          "error_handling": {},
          "properties": {
            "scope": {
              "type": "string",
              "value": "Current Run"
            },
            "key": {
              "type": "string",
              "value": "Item_{$.steps.loop-2.value.item.id}"
            },
            "value": {
              "type": "jsonpath",
              "value": "$.steps.salesforce-3.records[0].Id"
            }
          }
        },
        "salesforce-10": {
          "title": "Deactivate Same Code Prods",
          "connector": {
            "name": "salesforce",
            "version": "8.7"
          },
          "operation": "find_records",
          "output_schema": {
            "$schema": "http://json-schema.org/draft-04/schema#",
            "type": "object",
            "properties": {
              "total": {
                "type": "integer",
                "title": "Total count"
              },
              "next_page_offset": {
                "type": "string",
                "title": "Next page offset"
              },
              "records": {
                "title": "Products",
                "type": "array",
                "items": {
                  "type": "object",
                  "title": "Product",
                  "properties": {
                    "NetSuite_ID__c": {
                      "name": "NetSuite_ID__c",
                      "type": "string",
                      "title": "NetSuite ID"
                    },
                    "Id": {
                      "name": "Id",
                      "type": "string",
                      "title": "Product ID"
                    }
                  }
                }
              }
            }
          },
          "error_handling": {},
          "authentication": {
            "group": "2c440ec0-5ac6-4a09-aef3-d861faa8c602",
            "title": "SF-Prod",
            "service_icon": {
              "icon_type": "url",
              "value": "//s3.amazonaws.com/images.tray.io/static/service/icons/a8ff6c9514c35c853b350382534fb624.png"
            },
            "scopes": [
              "refresh_token",
              "full"
            ],
            "service_name": "salesforce",
            "service_version": 1
          },
          "properties": {
            "fields": {
              "type": "array",
              "value": [
                {
                  "type": "string",
                  "value": "NetSuite_ID__c"
                },
                {
                  "type": "string",
                  "value": "Id"
                }
              ]
            },
            "conditions_type": {
              "type": "string",
              "value": "Match all conditions"
            },
            "include_all_fields": {
              "type": "boolean",
              "value": false
            },
            "object": {
              "type": "string",
              "value": "Product2"
            },
            "conditions": {
              "type": "array",
              "value": [
                {
                  "type": "object",
                  "value": {
                    "field": {
                      "type": "string",
                      "value": "Id"
                    },
                    "operator": {
                      "type": "string",
                      "value": "Not equal to"
                    },
                    "value": {
                      "type": "jsonpath",
                      "value": "$.steps.storage-12.value"
                    }
                  }
                },
                {
                  "type": "object",
                  "value": {
                    "field": {
                      "type": "string",
                      "value": "ProductCode"
                    },
                    "operator": {
                      "type": "string",
                      "value": "Equal to"
                    },
                    "value": {
                      "type": "jsonpath",
                      "value": "$.steps.script-4.result.code"
                    }
                  }
                },
                {
                  "type": "object",
                  "value": {
                    "field": {
                      "type": "string",
                      "value": "IsActive"
                    },
                    "operator": {
                      "type": "string",
                      "value": "Equal to"
                    },
                    "value": {
                      "type": "boolean",
                      "value": true
                    }
                  }
                }
              ]
            }
          }
        },
        "netsuite-1": {
          "title": "Get Subscription Plans",
          "description": "One plan for now: https://4914352-sb5.app.netsuite.com/app/common/item/item.nl?id=76875",
          "connector": {
            "name": "netsuite",
            "version": "2.8"
          },
          "operation": "find_records",
          "output_schema": {
            "$schema": "http://json-schema.org/draft-04/schema#",
            "type": "object",
            "properties": {
              "links": {
                "type": "array",
                "items": {
                  "type": "object",
                  "properties": {
                    "rel": {
                      "type": "string"
                    },
                    "href": {
                      "type": "string"
                    }
                  }
                }
              },
              "count": {
                "type": "number"
              },
              "hasMore": {
                "type": "boolean"
              },
              "items": {
                "type": "array",
                "items": {
                  "type": "object",
                  "properties": {
                    "links": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "rel": {
                            "type": "string"
                          },
                          "href": {
                            "type": "string"
                          }
                        }
                      }
                    },
                    "id": {
                      "type": "string"
                    }
                  }
                }
              },
              "offset": {
                "type": "number"
              },
              "totalResults": {
                "type": "number"
              }
            }
          },
          "error_handling": {},
          "authentication": {
            "group": "acf5ed7f-c1d0-49ae-a8d1-89dd2b001a92",
            "title": "NS Prod",
            "service_icon": {
              "icon_type": "url",
              "value": "//s3.amazonaws.com/images.tray.io/static/service/icons/eb27b52bd4378b8bc0288428d585968b.png"
            },
            "scopes": [],
            "service_name": "netsuite",
            "service_version": 4
          },
          "properties": {
            "token_id": {
              "type": "jsonpath",
              "value": "$.auth.token_id"
            },
            "conditions_matching": {
              "type": "string",
              "value": "Match all conditions"
            },
            "record_type": {
              "value": "subscriptionplan",
              "type": "string"
            },
            "account_id": {
              "type": "jsonpath",
              "value": "$.auth.account_id"
            },
            "offset": {
              "type": "number",
              "value": 0
            },
            "consumer_key": {
              "type": "jsonpath",
              "value": "$.auth.consumer_key"
            },
            "token_secret": {
              "type": "jsonpath",
              "value": "$.auth.token_secret"
            },
            "conditions": {
              "type": "array",
              "value": [
                {
                  "type": "object",
                  "value": {
                    "field": {
                      "type": "string",
                      "value": "isInactive"
                    },
                    "operator": {
                      "type": "string",
                      "value": "IS"
                    },
                    "value": {
                      "type": "string",
                      "value": "false"
                    }
                  }
                },
                {
                  "type": "object",
                  "value": {
                    "field": {
                      "value": "id",
                      "type": "string"
                    },
                    "operator": {
                      "type": "string",
                      "value": "EQUAL"
                    },
                    "value": {
                      "type": "jsonpath",
                      "value": "$.steps.trigger.data.subcriptionPlanId"
                    }
                  }
                }
              ]
            },
            "consumer_secret": {
              "type": "jsonpath",
              "value": "$.auth.consumer_secret"
            },
            "limit": {
              "type": "number",
              "value": 500
            }
          }
        },
        "script-5": {
          "title": "Calculated Fields",
          "description": "Returns meaning of some of the product code fiedls to be used in SF",
          "connector": {
            "name": "script",
            "version": "3.3"
          },
          "operation": "execute",
          "output_schema": {},
          "error_handling": {},
          "properties": {
            "variables": {
              "type": "array",
              "value": [
                {
                  "type": "object",
                  "value": {
                    "value": {
                      "type": "jsonpath",
                      "value": "$.steps.netsuite-7.response.body.items[0].id",
                      "fallback": {
                        "type": "null",
                        "value": null
                      }
                    },
                    "name": {
                      "type": "string",
                      "value": "sub_plan_id"
                    }
                  }
                },
                {
                  "type": "object",
                  "value": {
                    "name": {
                      "type": "string",
                      "value": "item"
                    },
                    "value": {
                      "type": "jsonpath",
                      "value": "$.steps.call-workflow-4.response.item"
                    }
                  }
                },
                {
                  "type": "object",
                  "value": {
                    "name": {
                      "type": "string",
                      "value": "successLevel"
                    },
                    "value": {
                      "type": "jsonpath",
                      "value": "$.steps.script-2.result.successLevel"
                    }
                  }
                }
              ]
            },
            "script": {
              "type": "string",
              "value": "// Returns fields for the product which has complex mapping rules\nexports.step = function(input) {\n\t\n  return ({\n  \tcomponent: !input.sub_plan_id,\n    description: `${input.item.displayName}, ${input.successLevel} support`,\n  });\n};"
            },
            "file_output": {
              "type": "boolean",
              "value": false
            }
          }
        },
        "salesforce-2": {
          "title": "Create Product",
          "connector": {
            "name": "salesforce",
            "version": "8.7"
          },
          "operation": "create_record",
          "output_schema": {},
          "error_handling": {},
          "authentication": {
            "group": "2c440ec0-5ac6-4a09-aef3-d861faa8c602",
            "title": "SF-Prod",
            "service_icon": {
              "icon_type": "url",
              "value": "//s3.amazonaws.com/images.tray.io/static/service/icons/a8ff6c9514c35c853b350382534fb624.png"
            },
            "scopes": [
              "refresh_token",
              "full"
            ],
            "service_name": "salesforce",
            "service_version": 1
          },
          "properties": {
            "fields": {
              "type": "array",
              "value": [
                {
                  "type": "object",
                  "value": {
                    "key": {
                      "type": "string",
                      "value": "IsActive"
                    },
                    "value": {
                      "type": "string",
                      "value": "true"
                    }
                  }
                },
                {
                  "type": "object",
                  "value": {
                    "key": {
                      "value": "Name",
                      "type": "string"
                    },
                    "value": {
                      "type": "jsonpath",
                      "value": "$.steps.script-4.result.name"
                    }
                  }
                },
                {
                  "type": "object",
                  "value": {
                    "key": {
                      "value": "ProductCode",
                      "type": "string"
                    },
                    "value": {
                      "type": "jsonpath",
                      "value": "$.steps.script-4.result.code",
                      "fallback": {
                        "value": "",
                        "type": "string"
                      }
                    }
                  }
                },
                {
                  "type": "object",
                  "value": {
                    "key": {
                      "value": "Deployment_Type__c",
                      "type": "string"
                    },
                    "value": {
                      "type": "jsonpath",
                      "value": "$.steps.script-2.result.deploymentType",
                      "fallback": {
                        "value": "",
                        "type": "string"
                      }
                    }
                  }
                },
                {
                  "type": "object",
                  "value": {
                    "key": {
                      "type": "string",
                      "value": "NetSuite_ID__c"
                    },
                    "value": {
                      "type": "jsonpath",
                      "value": "$.steps.netsuite-2.id"
                    }
                  }
                },
                {
                  "type": "object",
                  "value": {
                    "key": {
                      "type": "string",
                      "value": "Family"
                    },
                    "value": {
                      "type": "jsonpath",
                      "value": "$.steps.script-1.result"
                    }
                  }
                },
                {
                  "type": "object",
                  "value": {
                    "key": {
                      "type": "string",
                      "value": "Product__c"
                    },
                    "value": {
                      "type": "jsonpath",
                      "value": "$.steps.script-4.result.name"
                    }
                  }
                },
                {
                  "type": "object",
                  "value": {
                    "key": {
                      "type": "string",
                      "value": "Min_Quantity__c"
                    },
                    "value": {
                      "type": "number",
                      "value": 1
                    }
                  }
                },
                {
                  "type": "object",
                  "value": {
                    "key": {
                      "type": "string",
                      "value": "StockKeepingUnit"
                    },
                    "value": {
                      "type": "jsonpath",
                      "value": "$.steps.script-4.result.sku"
                    }
                  }
                },
                {
                  "type": "object",
                  "value": {
                    "key": {
                      "type": "string",
                      "value": "Product_Edition__c"
                    },
                    "value": {
                      "type": "jsonpath",
                      "value": "$.steps.script-2.result.productEdition",
                      "fallback": {
                        "value": "",
                        "type": "string"
                      }
                    }
                  }
                },
                {
                  "type": "object",
                  "value": {
                    "key": {
                      "type": "string",
                      "value": "Success_Level__c"
                    },
                    "value": {
                      "type": "jsonpath",
                      "value": "$.steps.script-2.result.successLevel",
                      "fallback": {
                        "value": "",
                        "type": "string"
                      }
                    }
                  }
                },
                {
                  "type": "object",
                  "value": {
                    "key": {
                      "type": "string",
                      "value": "Description"
                    },
                    "value": {
                      "type": "jsonpath",
                      "value": "$.steps.netsuite-2.description",
                      "fallback": {
                        "value": "",
                        "type": "string"
                      }
                    }
                  }
                },
                {
                  "type": "object",
                  "value": {
                    "key": {
                      "type": "string",
                      "value": "Subscription_Terms__c"
                    },
                    "value": {
                      "type": "string",
                      "value": "12;36;60"
                    }
                  }
                },
                {
                  "type": "object",
                  "value": {
                    "key": {
                      "type": "string",
                      "value": "SBQQ__SubscriptionPricing__c"
                    },
                    "value": {
                      "type": "string",
                      "value": "Fixed Price"
                    }
                  }
                },
                {
                  "type": "object",
                  "value": {
                    "key": {
                      "type": "string",
                      "value": "SBQQ__SubscriptionTerm__c"
                    },
                    "value": {
                      "type": "string",
                      "value": "12"
                    }
                  }
                },
                {
                  "type": "object",
                  "value": {
                    "key": {
                      "type": "string",
                      "value": "SBQQ__SubscriptionType__c"
                    },
                    "value": {
                      "type": "string",
                      "value": "Renewable"
                    }
                  }
                },
                {
                  "type": "object",
                  "value": {
                    "key": {
                      "type": "string",
                      "value": "SBQQ__BillingType__c"
                    },
                    "value": {
                      "type": "string",
                      "value": "Advance"
                    }
                  }
                },
                {
                  "type": "object",
                  "value": {
                    "key": {
                      "type": "string",
                      "value": "Product_Edition_Label__c"
                    },
                    "value": {
                      "type": "jsonpath",
                      "value": "$.steps.data-mapper-1.result"
                    }
                  }
                },
                {
                  "type": "object",
                  "value": {
                    "key": {
                      "type": "string",
                      "value": "SBQQ__PriceEditable__c"
                    },
                    "value": {
                      "type": "boolean",
                      "value": false
                    }
                  }
                },
                {
                  "type": "object",
                  "value": {
                    "key": {
                      "type": "string",
                      "value": "Floor_Price__c"
                    },
                    "value": {
                      "type": "jsonpath",
                      "value": "$.steps.netsuite-2.custitemfloorprice",
                      "fallback": {
                        "value": null,
                        "type": "null"
                      }
                    }
                  }
                },
                {
                  "type": "object",
                  "value": {
                    "key": {
                      "type": "string",
                      "value": "SBQQ__ConfigurationType__c"
                    },
                    "value": {
                      "type": "jsonpath",
                      "value": "$.steps.script-10.result"
                    }
                  }
                },
                {
                  "type": "object",
                  "value": {
                    "key": {
                      "type": "string",
                      "value": "SBQQ__ChargeType__c"
                    },
                    "value": {
                      "type": "string",
                      "value": "Recurring"
                    }
                  }
                },
                {
                  "type": "object",
                  "value": {
                    "key": {
                      "type": "string",
                      "value": "SBQQ__BillingFrequency__c"
                    },
                    "value": {
                      "type": "string",
                      "value": "Annual"
                    }
                  }
                }
              ]
            },
            "object": {
              "type": "string",
              "value": "Product2"
            }
          }
        },
        "storage-6": {
          "title": "Set First Item Mapping",
          "connector": {
            "name": "storage",
            "version": "1.4"
          },
          "operation": "set",
          "output_schema": {},
          "error_handling": {},
          "properties": {
            "scope": {
              "type": "string",
              "value": "Current Run"
            },
            "key": {
              "type": "string",
              "value": "parent_prod_for_{$.steps.loop-4.value[0].item.id}"
            },
            "value": {
              "type": "jsonpath",
              "value": "$.steps.storage-5.value"
            }
          }
        },
        "salesforce-15": {
          "title": "Update Add-On Bundle",
          "connector": {
            "name": "salesforce",
            "version": "8.7"
          },
          "operation": "update_record",
          "output_schema": {},
          "error_handling": {},
          "authentication": {
            "group": "2c440ec0-5ac6-4a09-aef3-d861faa8c602",
            "title": "SF-Prod",
            "service_icon": {
              "icon_type": "url",
              "value": "//s3.amazonaws.com/images.tray.io/static/service/icons/a8ff6c9514c35c853b350382534fb624.png"
            },
            "scopes": [
              "refresh_token",
              "full"
            ],
            "service_name": "salesforce",
            "service_version": 1
          },
          "properties": {
            "object": {
              "type": "string",
              "value": "Product2"
            },
            "object_id": {
              "type": "jsonpath",
              "value": "$.steps.salesforce-12.records[0].Id"
            },
            "fields": {
              "type": "jsonpath",
              "value": "$.steps.script-8.result"
            }
          }
        },
        "object-helpers-1": {
          "title": "Add-On Bundle Record",
          "description": "Common Opportunity record (2) before checking the creation or the update of an existing opportunity.",
          "connector": {
            "name": "object-helpers",
            "version": "4.1"
          },
          "operation": "add_key_value_pairs",
          "output_schema": {
            "$schema": "http://json-schema.org/draft-04/schema#",
            "type": "object",
            "properties": {
              "result": {
                "type": "object",
                "properties": {
                  "IsActive": {
                    "type": "string"
                  },
                  "Name": {
                    "type": "null"
                  },
                  "ProductCode": {
                    "type": "null"
                  },
                  "Deployment_Type__c": {
                    "type": "string"
                  },
                  "NetSuite_ID__c": {
                    "type": "null"
                  },
                  "Family": {
                    "type": "null"
                  },
                  "Product__c": {
                    "type": "null"
                  },
                  "Min_Quantity__c": {
                    "type": "number"
                  },
                  "StockKeepingUnit": {
                    "type": "null"
                  },
                  "Product_Edition__c": {
                    "type": "null"
                  },
                  "Success_Level__c": {
                    "type": "null"
                  },
                  "Description": {
                    "type": "null"
                  },
                  "Subscription_Terms__c": {
                    "type": "string"
                  },
                  "SBQQ__SubscriptionPricing__c": {
                    "type": "string"
                  },
                  "SBQQ__SubscriptionTerm__c": {
                    "type": "string"
                  },
                  "SBQQ__SubscriptionType__c": {
                    "type": "null"
                  },
                  "SBQQ__BillingType__c": {
                    "type": "null"
                  },
                  "SBQQ__PriceEditable__c": {
                    "type": "boolean"
                  },
                  "SBQQ__ConfigurationType__c": {
                    "type": "string"
                  },
                  "SBQQ__Component__c": {
                    "type": "null"
                  },
                  "SBQQ__ChargeType__c": {
                    "type": "null"
                  },
                  "SBQQ__BillingFrequency__c": {
                    "type": "null"
                  }
                }
              }
            }
          },
          "error_handling": {},
          "properties": {
            "source": {
              "type": "object",
              "value": {}
            },
            "list": {
              "type": "array",
              "value": [
                {
                  "type": "object",
                  "value": {
                    "key": {
                      "type": "string",
                      "value": "IsActive"
                    },
                    "value": {
                      "type": "string",
                      "value": "true"
                    }
                  }
                },
                {
                  "type": "object",
                  "value": {
                    "key": {
                      "value": "Name",
                      "type": "string"
                    },
                    "value": {
                      "type": "jsonpath",
                      "value": "$.steps.script-5.result.description"
                    }
                  }
                },
                {
                  "type": "object",
                  "value": {
                    "key": {
                      "value": "ProductCode",
                      "type": "string"
                    },
                    "value": {
                      "type": "jsonpath",
                      "value": "$.steps.loop-4.key",
                      "fallback": {
                        "value": "",
                        "type": "string"
                      }
                    }
                  }
                },
                {
                  "type": "object",
                  "value": {
                    "key": {
                      "value": "Deployment_Type__c",
                      "type": "string"
                    },
                    "value": {
                      "type": "string",
                      "value": "Other"
                    }
                  }
                },
                {
                  "type": "object",
                  "value": {
                    "key": {
                      "type": "string",
                      "value": "NetSuite_ID__c"
                    },
                    "value": {
                      "type": "jsonpath",
                      "value": "$.steps.netsuite-7.response.body.items[0].id",
                      "fallback": {
                        "type": "null",
                        "value": null
                      }
                    }
                  }
                },
                {
                  "type": "object",
                  "value": {
                    "key": {
                      "type": "string",
                      "value": "Family"
                    },
                    "value": {
                      "type": "jsonpath",
                      "value": "$.steps.script-1.result"
                    }
                  }
                },
                {
                  "type": "object",
                  "value": {
                    "key": {
                      "type": "string",
                      "value": "Product__c"
                    },
                    "value": {
                      "type": "jsonpath",
                      "value": "$.steps.loop-4.key",
                      "fallback": {
                        "value": "",
                        "type": "string"
                      }
                    }
                  }
                },
                {
                  "type": "object",
                  "value": {
                    "key": {
                      "type": "string",
                      "value": "Min_Quantity__c"
                    },
                    "value": {
                      "type": "number",
                      "value": 1
                    }
                  }
                },
                {
                  "type": "object",
                  "value": {
                    "key": {
                      "type": "string",
                      "value": "StockKeepingUnit"
                    },
                    "value": {
                      "type": "jsonpath",
                      "value": "$.steps.netsuite-7.response.body.items[0].displayname",
                      "fallback": {
                        "type": "string",
                        "value": "{$.steps.loop-4.key}"
                      }
                    }
                  }
                },
                {
                  "type": "object",
                  "value": {
                    "key": {
                      "type": "string",
                      "value": "Product_Edition__c"
                    },
                    "value": {
                      "type": "jsonpath",
                      "value": "$.steps.call-workflow-4.response.fields.productEdition"
                    }
                  }
                },
                {
                  "type": "object",
                  "value": {
                    "key": {
                      "type": "string",
                      "value": "Success_Level__c"
                    },
                    "value": {
                      "type": "jsonpath",
                      "value": "$.steps.script-2.result.successLevel",
                      "fallback": {
                        "value": "",
                        "type": "string"
                      }
                    }
                  }
                },
                {
                  "type": "object",
                  "value": {
                    "key": {
                      "type": "string",
                      "value": "Description"
                    },
                    "value": {
                      "type": "jsonpath",
                      "value": "$.steps.netsuite-7.description",
                      "fallback": {
                        "type": "jsonpath",
                        "value": "$.steps.script-5.result.description"
                      }
                    }
                  }
                },
                {
                  "type": "object",
                  "value": {
                    "key": {
                      "type": "string",
                      "value": "Subscription_Terms__c"
                    },
                    "value": {
                      "type": "string",
                      "value": "12;36;60"
                    }
                  }
                },
                {
                  "type": "object",
                  "value": {
                    "key": {
                      "type": "string",
                      "value": "SBQQ__SubscriptionPricing__c"
                    },
                    "value": {
                      "type": "string",
                      "value": "Fixed Price"
                    }
                  }
                },
                {
                  "type": "object",
                  "value": {
                    "key": {
                      "type": "string",
                      "value": "SBQQ__SubscriptionTerm__c"
                    },
                    "value": {
                      "type": "string",
                      "value": "12"
                    }
                  }
                },
                {
                  "type": "object",
                  "value": {
                    "key": {
                      "type": "string",
                      "value": "SBQQ__SubscriptionType__c"
                    },
                    "value": {
                      "type": "jsonpath",
                      "value": "$.steps.call-workflow-4.response.fields.subscriptionType"
                    }
                  }
                },
                {
                  "type": "object",
                  "value": {
                    "key": {
                      "type": "string",
                      "value": "SBQQ__BillingType__c"
                    },
                    "value": {
                      "type": "jsonpath",
                      "value": "$.steps.call-workflow-4.response.fields.billingType"
                    }
                  }
                },
                {
                  "type": "object",
                  "value": {
                    "key": {
                      "type": "string",
                      "value": "SBQQ__PriceEditable__c"
                    },
                    "value": {
                      "type": "boolean",
                      "value": false
                    }
                  }
                },
                {
                  "type": "object",
                  "value": {
                    "key": {
                      "type": "string",
                      "value": "SBQQ__ConfigurationType__c"
                    },
                    "value": {
                      "type": "string",
                      "value": "Disabled"
                    }
                  }
                },
                {
                  "type": "object",
                  "value": {
                    "key": {
                      "type": "string",
                      "value": "SBQQ__Component__c"
                    },
                    "value": {
                      "type": "jsonpath",
                      "value": "$.steps.script-5.result.component"
                    }
                  }
                },
                {
                  "type": "object",
                  "value": {
                    "key": {
                      "type": "string",
                      "value": "SBQQ__ChargeType__c"
                    },
                    "value": {
                      "type": "jsonpath",
                      "value": "$.steps.call-workflow-4.response.fields.chargeType"
                    }
                  }
                },
                {
                  "type": "object",
                  "value": {
                    "key": {
                      "type": "string",
                      "value": "SBQQ__BillingFrequency__c"
                    },
                    "value": {
                      "type": "jsonpath",
                      "value": "$.steps.call-workflow-4.response.fields.billingFrequency"
                    }
                  }
                }
              ]
            }
          }
        },
        "script-9": {
          "title": "Get Plan SQL",
          "connector": {
            "name": "script",
            "version": "3.0"
          },
          "operation": "execute",
          "output_schema": {},
          "error_handling": {},
          "properties": {
            "variables": {
              "type": "array",
              "value": [
                {
                  "type": "object",
                  "value": {
                    "name": {
                      "type": "string",
                      "value": "code"
                    },
                    "value": {
                      "type": "jsonpath",
                      "value": "$.steps.loop-4.key",
                      "fallback": {
                        "type": "null",
                        "value": null
                      }
                    }
                  }
                }
              ]
            },
            "script": {
              "type": "string",
              "value": "exports.step = function (input) {\n return {q:`\nSELECT\n    id, displayname\nFROM\n    (\n        SELECT\n            sp.id,\n            sp.displayname\n        FROM\n            subscriptionplan sp\n            LEFT JOIN subscriptionplan spnext ON spnext.isinactive = 'F'\n            AND spnext.displayname = CONCAT(\n                CONCAT(\n                    REGEXP_REPLACE(\n                        sp.displayname,\n                        '(.+)-[0-9]+$',\n                        '\\\\1'\n                    ),\n                    '-'\n                ),\n                TO_CHAR(\n                    TO_NUMBER(\n                        REGEXP_REPLACE(\n                            sp.displayname,\n                            '.+-([0-9]+)$',\n                            '\\\\1'\n                        )\n                    ) + 1,\n                    'FM000'\n                )\n            )\n        WHERE\n            sp.isinactive = 'F'\n            AND spnext.id IS NULL\n            AND REGEXP_LIKE(sp.displayname, '${input.code}-([0-9]+)$')\n    )\n`};\n};"
            },
            "file_output": {
              "type": "boolean",
              "value": false
            }
          }
        },
        "netsuite-6": {
          "title": "Product Integration",
          "description": "One plan for now: https://4914352-sb5.app.netsuite.com/app/common/item/item.nl?id=76875",
          "connector": {
            "name": "netsuite",
            "version": "2.8"
          },
          "operation": "get_record",
          "output_schema": {
            "$schema": "http://json-schema.org/draft-04/schema#",
            "type": "object",
            "properties": {
              "links": {
                "type": "array",
                "items": {
                  "type": "object",
                  "properties": {
                    "rel": {
                      "type": "string"
                    },
                    "href": {
                      "type": "string"
                    }
                  }
                }
              },
              "created": {
                "type": "string"
              },
              "custrecordclass": {
                "type": "object",
                "properties": {
                  "links": {
                    "type": "array",
                    "items": {}
                  },
                  "id": {
                    "type": "string"
                  },
                  "refName": {
                    "type": "string"
                  }
                }
              },
              "custrecordenable_auto_provisioning": {
                "type": "boolean"
              },
              "custrecordenablerenewalautomation": {
                "type": "boolean"
              },
              "custrecordnewcustomersubsidiary": {
                "type": "object",
                "properties": {
                  "links": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "rel": {
                          "type": "string"
                        },
                        "href": {
                          "type": "string"
                        }
                      }
                    }
                  },
                  "id": {
                    "type": "string"
                  },
                  "refName": {
                    "type": "string"
                  }
                }
              },
              "custrecordproductfamilycode": {
                "type": "string"
              },
              "custrecordproductfamilytitle": {
                "type": "string"
              },
              "custrecordproductvariantcode": {
                "type": "string"
              },
              "custrecordproductvarianttitle": {
                "type": "string"
              },
              "custrecordquoteclauses": {
                "type": "object",
                "properties": {
                  "links": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "rel": {
                          "type": "string"
                        },
                        "href": {
                          "type": "string"
                        }
                      }
                    }
                  },
                  "count": {
                    "type": "number"
                  },
                  "hasMore": {
                    "type": "boolean"
                  },
                  "items": {
                    "type": "array",
                    "items": {}
                  },
                  "offset": {
                    "type": "number"
                  },
                  "totalResults": {
                    "type": "number"
                  }
                }
              },
              "custrecordsecret": {
                "type": "string"
              },
              "custrecordtierlabelenterprise": {
                "type": "string"
              },
              "custrecordtierlabelprofessional": {
                "type": "string"
              },
              "custrecordtierlabelstandard": {
                "type": "string"
              },
              "id": {
                "type": "string"
              },
              "isInactive": {
                "type": "boolean"
              },
              "lastmodified": {
                "type": "string"
              },
              "lastmodifiedby": {
                "type": "object",
                "properties": {
                  "links": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "rel": {
                          "type": "string"
                        },
                        "href": {
                          "type": "string"
                        }
                      }
                    }
                  },
                  "id": {
                    "type": "string"
                  },
                  "refName": {
                    "type": "string"
                  }
                }
              },
              "owner": {
                "type": "object",
                "properties": {
                  "links": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "rel": {
                          "type": "string"
                        },
                        "href": {
                          "type": "string"
                        }
                      }
                    }
                  },
                  "id": {
                    "type": "string"
                  },
                  "refName": {
                    "type": "string"
                  }
                }
              },
              "scriptId": {
                "type": "string"
              }
            }
          },
          "error_handling": {},
          "authentication": {
            "group": "acf5ed7f-c1d0-49ae-a8d1-89dd2b001a92",
            "title": "NS Prod",
            "service_icon": {
              "icon_type": "url",
              "value": "//s3.amazonaws.com/images.tray.io/static/service/icons/eb27b52bd4378b8bc0288428d585968b.png"
            },
            "scopes": [],
            "service_name": "netsuite",
            "service_version": 4
          },
          "properties": {
            "account_id": {
              "type": "jsonpath",
              "value": "$.auth.account_id"
            },
            "consumer_key": {
              "type": "jsonpath",
              "value": "$.auth.consumer_key"
            },
            "consumer_secret": {
              "type": "jsonpath",
              "value": "$.auth.consumer_secret"
            },
            "token_id": {
              "type": "jsonpath",
              "value": "$.auth.token_id"
            },
            "token_secret": {
              "type": "jsonpath",
              "value": "$.auth.token_secret"
            },
            "record_type": {
              "value": "CUSTOMRECORDPRODUCTINTEGRATION",
              "type": "string"
            },
            "record_id": {
              "type": "jsonpath",
              "value": "$.steps.netsuite-5.items[0].id"
            },
            "expand_sub_resources": {
              "value": true,
              "type": "boolean"
            }
          }
        },
        "netsuite-7": {
          "title": "Get Plan for Item",
          "connector": {
            "name": "netsuite",
            "version": "2.8"
          },
          "operation": "raw_http_request",
          "output_schema": {
            "$schema": "http://json-schema.org/draft-04/schema#",
            "type": "object",
            "properties": {
              "response": {
                "type": "object",
                "properties": {
                  "status_code": {
                    "type": "number"
                  },
                  "headers": {
                    "type": "object",
                    "properties": {
                      "content-type": {
                        "type": "string"
                      },
                      "content-length": {
                        "type": "string"
                      },
                      "x-n-operationid": {
                        "type": "string"
                      },
                      "ns_rtimer_composite": {
                        "type": "string"
                      },
                      "strict-transport-security": {
                        "type": "string"
                      },
                      "pragma": {
                        "type": "string"
                      },
                      "cache-control": {
                        "type": "string"
                      },
                      "expires": {
                        "type": "string"
                      },
                      "x-netsuite-jobid": {
                        "type": "string"
                      },
                      "preference-applied": {
                        "type": "string"
                      },
                      "p3p": {
                        "type": "string"
                      },
                      "vary": {
                        "type": "string"
                      },
                      "date": {
                        "type": "string"
                      },
                      "connection": {
                        "type": "string"
                      },
                      "akamai-grn": {
                        "type": "string"
                      }
                    }
                  },
                  "body": {
                    "type": "object",
                    "properties": {
                      "links": {
                        "type": "array",
                        "items": {
                          "type": "object",
                          "properties": {
                            "rel": {
                              "type": "string"
                            },
                            "href": {
                              "type": "string"
                            }
                          }
                        }
                      },
                      "count": {
                        "type": "number"
                      },
                      "hasMore": {
                        "type": "boolean"
                      },
                      "items": {
                        "type": "array",
                        "items": {
                          "type": "object",
                          "properties": {
                            "links": {
                              "type": "array",
                              "items": {}
                            },
                            "displayname": {
                              "type": "string"
                            },
                            "id": {
                              "type": "string"
                            }
                          }
                        }
                      },
                      "offset": {
                        "type": "number"
                      },
                      "totalResults": {
                        "type": "number"
                      }
                    }
                  }
                }
              }
            }
          },
          "error_handling": {},
          "authentication": {
            "group": "acf5ed7f-c1d0-49ae-a8d1-89dd2b001a92",
            "title": "NS Prod",
            "service_icon": {
              "icon_type": "url",
              "value": "//s3.amazonaws.com/images.tray.io/static/service/icons/eb27b52bd4378b8bc0288428d585968b.png"
            },
            "scopes": [],
            "service_name": "netsuite",
            "service_version": 4
          },
          "properties": {
            "account_id": {
              "type": "jsonpath",
              "value": "$.auth.account_id"
            },
            "consumer_key": {
              "type": "jsonpath",
              "value": "$.auth.consumer_key"
            },
            "consumer_secret": {
              "type": "jsonpath",
              "value": "$.auth.consumer_secret"
            },
            "token_id": {
              "type": "jsonpath",
              "value": "$.auth.token_id"
            },
            "token_secret": {
              "type": "jsonpath",
              "value": "$.auth.token_secret"
            },
            "method": {
              "type": "string",
              "value": "POST"
            },
            "url": {
              "type": "object",
              "value": {
                "endpoint": {
                  "type": "string",
                  "value": "/services/rest/query/v1/suiteql"
                }
              }
            },
            "headers": {
              "type": "array",
              "value": [
                {
                  "type": "object",
                  "value": {
                    "key": {
                      "type": "string",
                      "value": "prefer"
                    },
                    "value": {
                      "type": "string",
                      "value": "transient"
                    }
                  }
                }
              ]
            },
            "body": {
              "type": "object",
              "value": {
                "raw": {
                  "type": "jsonpath",
                  "value": "$.steps.script-9.result"
                }
              }
            },
            "include_raw_body": {
              "type": "boolean",
              "value": false
            },
            "parse_response": {
              "type": "string",
              "value": "true"
            }
          }
        },
        "call-workflow-4": {
          "title": "Get Item Product Info",
          "connector": {
            "name": "call-workflow",
            "version": "2.0"
          },
          "operation": "fire_and_wait_for_response",
          "output_schema": {
            "$schema": "http://json-schema.org/draft-04/schema#",
            "type": "object",
            "properties": {
              "response": {
                "type": "object",
                "properties": {
                  "item": {
                    "type": "object",
                    "properties": {
                      "links": {
                        "type": "array",
                        "items": {
                          "type": "object",
                          "properties": {
                            "rel": {
                              "type": "string"
                            },
                            "href": {
                              "type": "string"
                            }
                          }
                        }
                      },
                      "class": {
                        "type": "object",
                        "properties": {
                          "links": {
                            "type": "array",
                            "items": {}
                          },
                          "id": {
                            "type": "string"
                          },
                          "refName": {
                            "type": "string"
                          }
                        }
                      },
                      "createdDate": {
                        "type": "string"
                      },
                      "createRevenuePlansOn": {
                        "type": "object",
                        "properties": {
                          "links": {
                            "type": "array",
                            "items": {}
                          },
                          "id": {
                            "type": "string"
                          },
                          "refName": {
                            "type": "string"
                          }
                        }
                      },
                      "custitem1": {
                        "type": "boolean"
                      },
                      "custitem_item_category": {
                        "type": "object",
                        "properties": {
                          "links": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "properties": {
                                "rel": {
                                  "type": "string"
                                },
                                "href": {
                                  "type": "string"
                                }
                              }
                            }
                          },
                          "id": {
                            "type": "string"
                          },
                          "refName": {
                            "type": "string"
                          }
                        }
                      },
                      "custitem_item_pricing_type": {
                        "type": "object",
                        "properties": {
                          "links": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "properties": {
                                "rel": {
                                  "type": "string"
                                },
                                "href": {
                                  "type": "string"
                                }
                              }
                            }
                          },
                          "id": {
                            "type": "string"
                          },
                          "refName": {
                            "type": "string"
                          }
                        }
                      },
                      "custitem_mtce_support_type": {
                        "type": "object",
                        "properties": {
                          "links": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "properties": {
                                "rel": {
                                  "type": "string"
                                },
                                "href": {
                                  "type": "string"
                                }
                              }
                            }
                          },
                          "id": {
                            "type": "string"
                          },
                          "refName": {
                            "type": "string"
                          }
                        }
                      },
                      "custitem_nso_is_ieps": {
                        "type": "boolean"
                      },
                      "custitem_opt_out_ms": {
                        "type": "boolean"
                      },
                      "custitem_product_line": {
                        "type": "object",
                        "properties": {
                          "links": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "properties": {
                                "rel": {
                                  "type": "string"
                                },
                                "href": {
                                  "type": "string"
                                }
                              }
                            }
                          },
                          "id": {
                            "type": "string"
                          },
                          "refName": {
                            "type": "string"
                          }
                        }
                      },
                      "custitem_quantity_type": {
                        "type": "object",
                        "properties": {
                          "links": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "properties": {
                                "rel": {
                                  "type": "string"
                                },
                                "href": {
                                  "type": "string"
                                }
                              }
                            }
                          },
                          "id": {
                            "type": "string"
                          },
                          "refName": {
                            "type": "string"
                          }
                        }
                      },
                      "custitem_renewals_exclusion": {
                        "type": "boolean"
                      },
                      "custitem_revenue_type": {
                        "type": "object",
                        "properties": {
                          "links": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "properties": {
                                "rel": {
                                  "type": "string"
                                },
                                "href": {
                                  "type": "string"
                                }
                              }
                            }
                          },
                          "id": {
                            "type": "string"
                          },
                          "refName": {
                            "type": "string"
                          }
                        }
                      },
                      "custitem_ste_item_taxitem_type": {
                        "type": "object",
                        "properties": {
                          "links": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "properties": {
                                "rel": {
                                  "type": "string"
                                },
                                "href": {
                                  "type": "string"
                                }
                              }
                            }
                          },
                          "id": {
                            "type": "string"
                          },
                          "refName": {
                            "type": "string"
                          }
                        }
                      },
                      "custitemzuorataxable": {
                        "type": "boolean"
                      },
                      "customForm": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "string"
                          },
                          "refName": {
                            "type": "string"
                          }
                        }
                      },
                      "deferredRevenueAccount": {
                        "type": "object",
                        "properties": {
                          "links": {
                            "type": "array",
                            "items": {}
                          },
                          "id": {
                            "type": "string"
                          },
                          "refName": {
                            "type": "string"
                          }
                        }
                      },
                      "department": {
                        "type": "object",
                        "properties": {
                          "links": {
                            "type": "array",
                            "items": {}
                          },
                          "id": {
                            "type": "string"
                          },
                          "refName": {
                            "type": "string"
                          }
                        }
                      },
                      "directRevenuePosting": {
                        "type": "boolean"
                      },
                      "displayName": {
                        "type": "string"
                      },
                      "enforceminqtyinternally": {
                        "type": "boolean"
                      },
                      "externalId": {
                        "type": "string"
                      },
                      "id": {
                        "type": "string"
                      },
                      "includeChildren": {
                        "type": "boolean"
                      },
                      "incomeAccount": {
                        "type": "object",
                        "properties": {
                          "links": {
                            "type": "array",
                            "items": {}
                          },
                          "id": {
                            "type": "string"
                          },
                          "refName": {
                            "type": "string"
                          }
                        }
                      },
                      "isFulfillable": {
                        "type": "boolean"
                      },
                      "isGCoCompliant": {
                        "type": "boolean"
                      },
                      "isInactive": {
                        "type": "boolean"
                      },
                      "isOnline": {
                        "type": "boolean"
                      },
                      "itemId": {
                        "type": "string"
                      },
                      "itemType": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "string"
                          },
                          "refName": {
                            "type": "string"
                          }
                        }
                      },
                      "lastModifiedDate": {
                        "type": "string"
                      },
                      "minimumquantity": {
                        "type": "number"
                      },
                      "offerSupport": {
                        "type": "boolean"
                      },
                      "price": {
                        "type": "object",
                        "properties": {
                          "links": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "properties": {
                                "rel": {
                                  "type": "string"
                                },
                                "href": {
                                  "type": "string"
                                }
                              }
                            }
                          },
                          "items": {
                            "type": "array",
                            "items": {}
                          },
                          "totalResults": {
                            "type": "number"
                          }
                        }
                      },
                      "revenueRecognitionRule": {
                        "type": "object",
                        "properties": {
                          "links": {
                            "type": "array",
                            "items": {}
                          },
                          "id": {
                            "type": "string"
                          },
                          "refName": {
                            "type": "string"
                          }
                        }
                      },
                      "revRecForecastRule": {
                        "type": "object",
                        "properties": {
                          "links": {
                            "type": "array",
                            "items": {}
                          },
                          "id": {
                            "type": "string"
                          },
                          "refName": {
                            "type": "string"
                          }
                        }
                      },
                      "salesDescription": {
                        "type": "string"
                      },
                      "subsidiary": {
                        "type": "object",
                        "properties": {
                          "links": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "properties": {
                                "rel": {
                                  "type": "string"
                                },
                                "href": {
                                  "type": "string"
                                }
                              }
                            }
                          },
                          "count": {
                            "type": "number"
                          },
                          "hasMore": {
                            "type": "boolean"
                          },
                          "items": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "properties": {
                                "links": {
                                  "type": "array",
                                  "items": {
                                    "type": "object",
                                    "properties": {
                                      "rel": {
                                        "type": "string"
                                      },
                                      "href": {
                                        "type": "string"
                                      }
                                    },
                                    "required": [
                                      "rel",
                                      "href"
                                    ]
                                  }
                                },
                                "id": {
                                  "type": "string"
                                },
                                "refName": {
                                  "type": "string"
                                }
                              },
                              "required": [
                                "links",
                                "id",
                                "refName"
                              ]
                            }
                          },
                          "offset": {
                            "type": "number"
                          },
                          "totalResults": {
                            "type": "number"
                          }
                        }
                      },
                      "useMarginalRates": {
                        "type": "boolean"
                      },
                      "VSOEDelivered": {
                        "type": "boolean"
                      },
                      "VSOESopGroup": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "string"
                          },
                          "refName": {
                            "type": "string"
                          }
                        }
                      }
                    }
                  },
                  "codeProperties": {
                    "type": "object",
                    "properties": {
                      "successLevel": {
                        "type": "null"
                      },
                      "productEdition": {
                        "type": "string"
                      },
                      "deploymentType": {
                        "type": "string"
                      }
                    }
                  },
                  "planLineProperties": {
                    "type": "object",
                    "properties": {
                      "subscriptionType": {
                        "type": "string"
                      },
                      "chargeType": {
                        "type": "string"
                      },
                      "billingType": {
                        "type": "string"
                      },
                      "component": {
                        "type": "boolean"
                      }
                    }
                  },
                  "fields": {
                    "type": "object",
                    "properties": {
                      "subscriptionType": {
                        "type": "string"
                      },
                      "chargeType": {
                        "type": "string"
                      },
                      "billingType": {
                        "type": "string"
                      },
                      "component": {
                        "type": "boolean"
                      },
                      "links": {
                        "type": "array",
                        "items": {
                          "type": "object",
                          "properties": {
                            "rel": {
                              "type": "string"
                            },
                            "href": {
                              "type": "string"
                            }
                          }
                        }
                      },
                      "billingMode": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "string"
                          },
                          "refName": {
                            "type": "string"
                          }
                        }
                      },
                      "isRequired": {
                        "type": "boolean"
                      },
                      "item": {
                        "type": "object",
                        "properties": {
                          "links": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "properties": {
                                "rel": {
                                  "type": "string"
                                },
                                "href": {
                                  "type": "string"
                                }
                              }
                            }
                          },
                          "id": {
                            "type": "string"
                          },
                          "refName": {
                            "type": "string"
                          }
                        }
                      },
                      "lineNumber": {
                        "type": "number"
                      },
                      "prorateEndDate": {
                        "type": "boolean"
                      },
                      "prorateStartDate": {
                        "type": "boolean"
                      },
                      "renewalOption": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "string"
                          },
                          "refName": {
                            "type": "string"
                          }
                        }
                      },
                      "revRecOption": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "string"
                          },
                          "refName": {
                            "type": "string"
                          }
                        }
                      },
                      "subscriptionLineType": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "string"
                          },
                          "refName": {
                            "type": "string"
                          }
                        }
                      }
                    }
                  }
                }
              },
              "#workspace_id_hash": {
                "type": "string"
              },
              "#username_hash": {
                "type": "string"
              },
              "#workflow_title": {
                "type": "string"
              },
              "#execution_uuid": {
                "type": "string"
              },
              "#execution_start_time": {
                "type": "string"
              },
              "#execution_log_url": {
                "type": "string"
              },
              "#organization_uuid": {
                "type": "string"
              },
              "#datapot_id_hash": {
                "type": "string"
              },
              "#workflow_uuid": {
                "type": "string"
              }
            }
          },
          "error_handling": {},
          "properties": {
            "workflow_id": {
              "type": "string",
              "value": "29bc39a3-3c98-49b6-ba2d-284ebcd12e2a"
            },
            "trigger_input": {
              "type": "object",
              "value": {
                "itemId": {
                  "type": "jsonpath",
                  "value": "$.steps.loop-4.value[0].item.id"
                },
                "subscriptionPlan": {
                  "type": "jsonpath",
                  "value": "$.steps.netsuite-2"
                }
              }
            }
          }
        },
        "script-2": {
          "title": "Extract Product Props",
          "description": "Conctract Product Name from Family and Plan Id",
          "connector": {
            "name": "script",
            "version": "3.0"
          },
          "operation": "execute",
          "output_schema": {
            "$schema": "http://json-schema.org/draft-04/schema#",
            "type": "object",
            "properties": {
              "result": {
                "type": "object",
                "properties": {
                  "productEdition": {
                    "type": "string"
                  },
                  "successLevel": {
                    "type": "string"
                  },
                  "deploymentType": {
                    "type": "string"
                  },
                  "productFamilyCode": {
                    "type": "string"
                  },
                  "productVariantCode": {
                    "type": "string"
                  }
                }
              },
              "console": {
                "type": "array",
                "items": {
                  "type": "string"
                }
              }
            }
          },
          "error_handling": {},
          "properties": {
            "variables": {
              "type": "array",
              "value": [
                {
                  "type": "object",
                  "value": {
                    "name": {
                      "type": "string",
                      "value": "displayName"
                    },
                    "value": {
                      "type": "jsonpath",
                      "value": "$.steps.netsuite-2.displayName"
                    }
                  }
                }
              ]
            },
            "script": {
              "type": "string",
              "value": "exports.step = function (input, fileInput) {\n    const codeParts = input.displayName.split(\"-\");\n    const deploymentPart = codeParts[1];\n    const productEditionPart = codeParts[3];\n    const successLevelPart = codeParts[4];\n    const successLevel = successLevelPart === \"PLA\" ? \"Platinum\" : successLevelPart === \"SIL\" ? \"Standard\" : successLevelPart === \"GOL\" ? \"Gold\" : null;\n    const productEdition = productEditionPart === \"STA\" ? \"Standard\" : productEditionPart === \"ENT\" ? \"Enterprise\" : productEditionPart === \"PRO\" ? \"Professional\" : null;\n    const deploymentType = deploymentPart === \"OP\" ? \"OnPrem\" : deploymentPart === \"SA\" ? \"SaaS\" : deploymentPart === \"HO\" ? \"Hosted\" : \"Other\";\n\n    const result = {\n        productEdition: productEdition,\n        successLevel: successLevel,\n        deploymentType: deploymentType,\n    };\n    console.log(result);\n    return {\n        productEdition: productEdition,\n        successLevel: successLevel,\n        deploymentType: deploymentType,\n        // Product Integration Key\n        productFamilyCode: codeParts[0],\n        productVariantCode: `${codeParts[1]}-${codeParts[2]}`,\n    };\n};"
            },
            "file_output": {
              "type": "boolean",
              "value": false
            },
            "files": {
              "type": "array",
              "value": []
            }
          }
        },
        "boolean-condition-3": {
          "title": "New Add-on?",
          "description": "If not found, then it is new.",
          "connector": {
            "name": "boolean-condition",
            "version": "2.3"
          },
          "operation": "boolean_condition",
          "output_schema": {},
          "error_handling": {},
          "properties": {
            "conditions": {
              "type": "array",
              "value": [
                {
                  "type": "object",
                  "value": {
                    "value1": {
                      "type": "jsonpath",
                      "value": "$.steps.salesforce-3.total"
                    },
                    "comparison_type": {
                      "type": "string",
                      "value": "==="
                    },
                    "value2": {
                      "type": "number",
                      "value": 0
                    }
                  }
                }
              ]
            },
            "strictness": {
              "type": "string",
              "value": "All"
            }
          }
        },
        "trigger": {
          "title": "Callable Trigger",
          "connector": {
            "name": "callable-trigger",
            "version": "2.0"
          },
          "operation": "trigger_and_respond",
          "output_schema": {},
          "error_handling": {},
          "properties": {}
        }
      },
      "dependencies": [
        {
          "id": "29bc39a3-3c98-49b6-ba2d-284ebcd12e2a",
          "name": "Subflow Get Product Data for an Item"
        },
        {
          "id": "3209901b-cc87-4c18-b301-1f103b7a82a7",
          "name": "Subflow SF Create Price Entries"
        },
        {
          "id": "5b94881f-4352-4ac4-8ee9-ffe85036bfca",
          "name": "Error Notification"
        },
        {
          "id": "5f5d1574-58e0-4451-8c93-dce41bad2a79",
          "name": "Subflow Add Product Option"
        },
        {
          "id": "3a9d77f7-a3e6-4e60-854d-809c569155ba",
          "name": "Subflow Disable Sub-Bundle Options Selection"
        }
      ]
    }
  ],
  "projects": []
}